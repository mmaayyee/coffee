webpackJsonp([1],{Aesl:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("lRwf"),r=a.n(o),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=a("C7Lr")(null,i,!1,function(e){a("ecoL")},null,null).exports,c=a("KGCO"),s=a("a3Yh"),n=a.n(s),u=a("aozt"),m=a.n(u),f={data:function(){var e,t,a=function(e,t,a){/^[1-9]\d*$/.test(t)?a():a(new Error("请输入正整数"))};return{mapShow:!1,baseInfo:baseInfo,id:"",searchAddressList:[],showList:!1,showMap:!1,currentCity:"",inputSearchVal:"",inputSearchText:"",buildAppearPic:[],buildHallPic:[],form:(e={buildTypeValue:"",buildingName:"",buildType:"",buildTypeList:[],city:"",area:"",address:"",bCircle:"",buildLongitude:"116.4559021",buildLatitude:"40.0205307",contactName:"",contactTel:"",floor:"",checkHumanTraffic:"",checkScale:"",checkRoundBusiness:"",checkIsMoreEntrance:"",checkEquipmentLocation:"",checkBusinessCircle:"",checkPopulationAge:"",checkCoffeeshop:"",checkHasOtherEquipment:"",checkOfficeRent:"",checkOfficeProperty:"",checkHallArea:"",checkLobbyHigh:"",checkFacadeMaterial:"",checkGroundFloor:"",checkAirConditioner:"",checkElevatorsNumber:"",checkCompanySize:"",checkCompanyNature:"",checkYesOrNotOverThree:"",checkParkOfficeRent:"",checkParkOfficeProperty:"",checkParkHallArea:"",checkParkLobbyHigh:"",checkParkFacadeMaterial:"",checkParkGroundFloor:"",checkParkAirConditioner:"",checkParkElevatorsNumber:"",checkParkCompanySize:"",checkParkCompanyNature:"",checkParkYesOrNotOverThree:"",checkSchoolTyle:"",checkNumberOfSchool:"",checkSchoolPutinNumber:"",checkChargingStandard:"",checkSexRatio:"",checkLivingExpenses:"",checkIntramuralCommerce:"",checkLessThanThreeThousand:"",checkBuildingAttribute:"",checkBuildingArea:"",checkBuildingHeight:"",checkCompanyOfficeProperty:"",checkCompanyHallArea:"",checkCompanyLobbyHigh:"",checkCompanyFacadeMaterial:"",checkCompanyGroundFloor:"",checkCompanyAirConditioner:"",checkCompanyElevatorsNumber:"",checkCompanySameLayer:""},n()(e,"checkCompanyNature",""),n()(e,"checkCompanyOfficeRent",""),n()(e,"checkCompanyOverTime",""),n()(e,"checkCompanyOnDutyMajority",""),n()(e,"checkCompanyServingCoffee",""),n()(e,"checkCompanyServingAfternoonTea",""),n()(e,"checkCompanySelfServiceEquipment",""),n()(e,"companyPersonNum",""),n()(e,"checkHospitalType",""),n()(e,"checkHospitalBusiness",""),n()(e,"checkHospitalBuildingAttribute",""),n()(e,"checkHospitalBuildingHeight",""),n()(e,"medicalNum",""),n()(e,"receptionNum",""),n()(e,"showInfo","2"),e),creatorID:"",orgID:"",submitFormUrl:rootCoffeeUrl+"building-record-api/save-building-record.html",rules:(t={buildType:[{required:!0,message:"请选择渠道",trigger:"change"}],inputSearchVal:[{required:!0,message:"请输入楼宇建筑名称",trigger:"click"}],city:[{required:!0,message:"请输入城市",trigger:"blur"}],area:[{required:!0,message:"请输入行政区",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],bCircle:[{required:!0,message:"请输入商圈",trigger:"blur"}],floor:[{required:!0,message:"请输入楼层",trigger:"blur"},{validator:a}],checkHumanTraffic:[{required:!0,message:"请选择点位人流量",trigger:"change"}],checkIsMoreEntrance:[{required:!0,message:"请选择是否多个出入口分流",trigger:"change"}],checkPopulationAge:[{required:!0,message:"请选择人群年龄层",trigger:"change"}],checkScale:[{required:!0,message:"请选择男女比例",trigger:"change"}],checkEquipmentLocation:[{required:!0,message:"请选择设备摆放位置",trigger:"change"}],checkCoffeeshop:[{required:!0,message:"请选择便利店（现磨）/咖啡厅",trigger:"change"}],checkRoundBusiness:[{required:!0,message:"请选择周边30米内商业",trigger:"change"}],checkBusinessCircle:[{required:!0,message:"请选择所在商圈",trigger:"change"}],checkHasOtherEquipment:[{required:!0,message:"请选择是否有其他自助设备",trigger:"change"}],checkOfficeRent:[{required:!0,message:"请选择办公室租金",trigger:"change"}],checkParkOfficeRent:[{required:!0,message:"请选择办公室租金",trigger:"change"}],checkOfficeProperty:[{required:!0,message:"请选择写字楼属性",trigger:"change"}],checkHallArea:[{required:!0,message:"请选择大堂面积",trigger:"change"}],checkLobbyHigh:[{required:!0,message:"请选择大堂挑高",trigger:"change"}],checkFacadeMaterial:[{required:!0,message:"请选择外立面材料",trigger:"change"}],checkGroundFloor:[{required:!0,message:"请选择大堂地面",trigger:"change"}],checkAirConditioner:[{required:!0,message:"请选择空调",trigger:"change"}],checkElevatorsNumber:[{required:!0,message:"请选择电梯数量",trigger:"change"}],checkCompanySize:[{required:!0,message:"请选择公司规模",trigger:"change"}],checkCompanyNature:[{required:!0,message:"请选择公司性质",trigger:"change"}],checkYesOrNotOverThree:[{required:!0,message:"请选择是否有公司超过三层",trigger:"change"}]},n()(t,"checkParkOfficeRent",[{required:!0,message:"请选择办公室租金",trigger:"change"}]),n()(t,"checkParkOfficeRent",[{required:!0,message:"请选择办公室租金",trigger:"change"}]),n()(t,"checkParkOfficeProperty",[{required:!0,message:"请选择写字楼属性",trigger:"change"}]),n()(t,"checkParkHallArea",[{required:!0,message:"请选择大堂面积",trigger:"change"}]),n()(t,"checkParkLobbyHigh",[{required:!0,message:"请选择大堂挑高",trigger:"change"}]),n()(t,"checkParkFacadeMaterial",[{required:!0,message:"请选择外立面材料",trigger:"change"}]),n()(t,"checkParkGroundFloor",[{required:!0,message:"请选择大堂地面",trigger:"change"}]),n()(t,"checkParkAirConditioner",[{required:!0,message:"请选择空调",trigger:"change"}]),n()(t,"checkParkElevatorsNumber",[{required:!0,message:"请选择电梯数量",trigger:"change"}]),n()(t,"checkParkCompanySize",[{required:!0,message:"请选择公司规模",trigger:"change"}]),n()(t,"checkParkCompanyNature",[{required:!0,message:"请选择公司性质",trigger:"change"}]),n()(t,"checkParkYesOrNotOverThree",[{required:!0,message:"请选择是否有公司超过三层",trigger:"change"}]),n()(t,"checkSchoolTyle",[{required:!0,message:"请选择学校类型",trigger:"change"}]),n()(t,"checkNumberOfSchool",[{required:!0,message:"请选择学校人数",trigger:"change"}]),n()(t,"checkSchoolPutinNumber",[{required:!0,message:"请选择学校投放台数",trigger:"change"}]),n()(t,"checkChargingStandard",[{required:!0,message:"请选择学费收费标准",trigger:"change"}]),n()(t,"checkSexRatio",[{required:!0,message:"请选择男女比例",trigger:"change"}]),n()(t,"checkLivingExpenses",[{required:!0,message:"请选择学校人数",trigger:"change"}]),n()(t,"checkSchoolPutinNumber",[{required:!0,message:"请选择学生每月生活费",trigger:"change"}]),n()(t,"checkIntramuralCommerce",[{required:!0,message:"请选择校内商业",trigger:"change"}]),n()(t,"checkLessThanThreeThousand",[{required:!0,message:"请选择在校人数是否少于三千",trigger:"change"}]),n()(t,"checkBuildingAttribute",[{required:!0,message:"请选择楼宇属性",trigger:"change"}]),n()(t,"checkBuildingArea",[{required:!0,message:"请选择楼宇占地面积",trigger:"change"}]),n()(t,"checkBuildingHeight",[{required:!0,message:"请选择楼宇层高",trigger:"change"}]),n()(t,"checkCompanyOfficeProperty",[{required:!0,message:"请选择写字楼属性",trigger:"change"}]),n()(t,"checkCompanyHallArea",[{required:!0,message:"请选择大堂面积",trigger:"change"}]),n()(t,"checkCompanyLobbyHigh",[{required:!0,message:"请选择大堂挑高",trigger:"change"}]),n()(t,"checkCompanyFacadeMaterial",[{required:!0,message:"请选择外立面材料",trigger:"change"}]),n()(t,"checkCompanyGroundFloor",[{required:!0,message:"请选择大堂地面",trigger:"change"}]),n()(t,"checkCompanyAirConditioner",[{required:!0,message:"请选择空调",trigger:"change"}]),n()(t,"checkCompanyElevatorsNumber",[{required:!0,message:"请选择电梯数量",trigger:"change"}]),n()(t,"checkCompanySameLayer",[{required:!0,message:"请选择公司是否在同层",trigger:"change"}]),n()(t,"checkCompanyNature",[{required:!0,message:"请选择公司性质",trigger:"change"}]),n()(t,"checkCompanyOfficeRent",[{required:!0,message:"请选择办公室租金",trigger:"change"}]),n()(t,"checkCompanyOverTime",[{required:!0,message:"请选择员工是否经常加班",trigger:"change"}]),n()(t,"checkCompanyOnDutyMajority",[{required:!0,message:"请选择坐班人员是否占大多数",trigger:"change"}]),n()(t,"checkCompanyServingCoffee",[{required:!0,message:"请选择是否提供咖啡",trigger:"change"}]),n()(t,"checkCompanyServingAfternoonTea",[{required:!0,message:"请选择是否提供下午茶",trigger:"change"}]),n()(t,"checkCompanySelfServiceEquipment",[{required:!0,message:"请选择是否有其他自助设备",trigger:"change"}]),n()(t,"companyPersonNum",[{required:!0,message:"请输入楼层",trigger:"blur"},{validator:a}]),n()(t,"checkHospitalType",[{required:!0,message:"请选择医院类型",trigger:"change"}]),n()(t,"checkHospitalBusiness",[{required:!0,message:"请选择院内商业",trigger:"change"}]),n()(t,"checkHospitalBuildingAttribute",[{required:!0,message:"请选择楼宇属性",trigger:"change"}]),n()(t,"checkHospitalBuildingHeight",[{required:!0,message:"请选择楼宇层高",trigger:"change"}]),n()(t,"medicalNum",[{required:!0,message:"请输入医护人员数量",trigger:"blur"},{validator:a}]),n()(t,"receptionNum",[{required:!0,message:"请输入门诊接待量",trigger:"blur"},{validator:a}]),n()(t,"contactTel",[{validator:function(e,t,a){if(""==t)return a();/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(t)||/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(t)?a():a(new Error("号码格式不正确"))}}]),t)}},mounted:function(){this.checkUser()},watch:{inputSearchText:{handler:function(e){var t=this;console.log(99);var a={key:"RB5BZ-JSERU-SNBVG-4WPUM-5WWK5-O6FXZ",region:"全国",region_fix:1,keyword:this.inputSearchText};a.output="jsonp",$.ajax({type:"get",dataType:"jsonp",data:a,jsonp:"callback",jsonpCallback:"QQmap",url:"https://apis.map.qq.com/ws/place/v1/suggestion",success:function(e){console.log("mapdata",e),t.searchAddressList=e.data,t.searchAddressList&&t.searchAddressList.length>0&&(t.showList=!0),""==t.inputSearchText&&(t.showList=!1)},error:function(e){t.showList=!1,t.searchAddressList=[]}})},deep:!0}},methods:{init:function(){var e=this;window.parent.onscroll=function(t){e.scrollMsg()},this.id=this.$route.query.id,""!=this.id?m.a.get("/building-record/update?id="+this.id).then(function(t){var a=t.data;if(console.log("initData",a),0!=a.error_code)return e.alertMsg(a.msg),!1;e.render(a.data),e.form.showInfo=1}).catch(function(e){console.log("error..",e)}):(this.setDefaultType(),this.form.showInfo=1)},checkUser:function(){var e=this;m.a.get("/building-record/create").then(function(t){console.log("res",t);var a=t.data;if(console.log("init",a),0!=a.error_code)return e.alertMsg(a.msg),!1;e.form.buildTypeList=a.data.buildTypeList,e.creatorID=a.data.user_id,e.orgID=a.data.org_id,e.init()}).catch(function(e){console.log("error..",e)})},searchMap:function(){console.log("search"),this.mapShow=!0,this.inputSearchText=this.inputSearchVal},closeMap:function(){this.mapShow=!1},chooseOneAddress:function(e){this.showList=!1,this.mapShow=!1,console.log("showList",this.showList),this.inputSearchVal=this.searchAddressList[e].title,this.form.city=this.searchAddressList[e].city,this.form.area=this.searchAddressList[e].district,this.form.address=this.searchAddressList[e].address,this.form.buildLongitude=this.searchAddressList[e].location.lng,this.form.buildLatitude=this.searchAddressList[e].location.lat,console.log("form",this.form.buildLongitude,this.form.buildLatitude),this.showMapPic(this.form.buildLatitude,this.form.buildLongitude)},setDefaultType:function(){for(var e in this.form.buildTypeList)"写字楼"==this.form.buildTypeList[e]&&(this.form.buildType=e,this.form.buildTypeValue="写字楼")},changeBuildType:function(e){for(var t in this.form.buildTypeList)t==e&&(this.form.buildTypeValue=this.form.buildTypeList[t],console.log("buildTypeValue",this.form.buildTypeValue))},showMapPic:function(e,t){console.log(e,t),this.showMap=!0;var a=new qq.maps.Map(document.getElementById("allmap"),{center:new qq.maps.LatLng(e,t),zoom:15,disableDefaultUI:!0});new qq.maps.Marker({map:a,draggable:!1,position:new qq.maps.LatLng(e,t)})},alertMsg:function(e,t){var a=t||"error";this.$message({message:e,duration:3600,type:a}),this.scrollMsg()},scrollMsg:function(){if(self!=top){var e=window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50,t=document.getElementsByClassName("el-message")[0];t&&(t.style.cssText="top: "+e+"px;z-index:1000;")}},render:function(e){var t=this;for(var a in e.buildPublicInfo)"请选择"==e.buildPublicInfo[a]&&(e.buildPublicInfo[a]="");for(var o in e.buildSpecialInfo)"请选择"==e.buildSpecialInfo[o]&&(e.buildSpecialInfo[o]="");this.orgID=e.orgID,this.id=e.id,this.inputSearchVal=e.buildingName,this.form.buildType=e.buildTypeID,this.form.city=e.city,this.form.area=e.area,this.form.address=e.address,this.form.buildLongitude=e.buildLongitude,this.form.buildLatitude=e.buildLatitude,window.setTimeout(function(){t.showMapPic(t.form.buildLatitude,t.form.buildLongitude)},1e3),this.form.contactName=e.contactName,this.form.contactTel=e.contactTel;var r=e.buildPublicInfo;this.form.floor=r.floor,this.form.bCircle=r.bCircle,this.form.checkHumanTraffic=r.humanTraffic,this.form.checkIsMoreEntrance=r.isMoreEntrance,this.form.checkPopulationAge=r.populationAge,this.form.checkScale=r.scale,this.form.checkEquipmentLocation=r.equipmentLocation,this.form.checkCoffeeshop=r.coffeeshop,this.form.checkRoundBusiness=r.roundBusiness,this.form.checkBusinessCircle=r.businessCircle,this.form.checkHasOtherEquipment=r.hasOtherEquipment,this.buildAppearPic=e.buildAppearPic,this.buildHallPic=e.buildHallPic;var i=e.buildSpecialInfo,l=this.form.buildTypeList[this.form.buildType];"写字楼"==l?(this.form.buildTypeValue="写字楼",this.form.checkOfficeRent=i.officeRent,this.form.checkOfficeProperty=i.officeProperty,this.form.checkHallArea=i.hallArea,this.form.checkLobbyHigh=i.lobbyHigh,this.form.checkFacadeMaterial=i.facadeMaterial,this.form.checkGroundFloor=i.groundFloor,this.form.checkAirConditioner=i.airConditioner,this.form.checkElevatorsNumber=i.elevatorsNumber,this.form.checkCompanySize=i.companySize,this.form.checkCompanyNature=i.companyNature,this.form.checkYesOrNotOverThree=i.yesOrNotOverThree):"园区"==l?(this.form.buildTypeValue="园区",this.form.checkParkOfficeRent=i.officeRent,this.form.checkParkOfficeProperty=i.officeProperty,this.form.checkParkHallArea=i.hallArea,this.form.checkParkLobbyHigh=i.lobbyHigh,this.form.checkParkFacadeMaterial=i.facadeMaterial,this.form.checkParkGroundFloor=i.groundFloor,this.form.checkParkAirConditioner=i.airConditioner,this.form.checkParkElevatorsNumber=i.elevatorsNumber,this.form.checkParkCompanySize=i.companySize,this.form.checkParkCompanyNature=i.companyNature,this.form.checkParkYesOrNotOverThree=i.yesOrNotOverThree):"学校"==l?(this.form.buildTypeValue="学校",this.form.checkSchoolTyle=i.schoolTyle,this.form.checkNumberOfSchool=i.numberOfSchool,this.form.checkSchoolPutinNumber=i.schoolPutinNumber,this.form.checkChargingStandard=i.chargingStandard,this.form.checkSexRatio=i.sexRatio,this.form.checkLivingExpenses=i.livingExpenses,this.form.checkIntramuralCommerce=i.intramuralCommerce,this.form.checkLessThanThreeThousand=i.lessThanThreeThousand,this.form.checkBuildingAttribute=i.buildingAttribute,this.form.checkBuildingArea=i.buildingArea,this.form.checkBuildingHeight=i.buildingHeight):"公司"==l?(this.form.buildTypeValue="公司",this.form.checkCompanyOfficeProperty=i.officeProperty,this.form.checkCompanyHallArea=i.hallArea,this.form.checkCompanyLobbyHigh=i.lobbyHigh,this.form.checkCompanyFacadeMaterial=i.facadeMaterial,this.form.checkCompanyGroundFloor=i.groundFloor,this.form.checkCompanyAirConditioner=i.airConditioner,this.form.checkCompanyElevatorsNumber=i.elevatorsNumber,this.form.checkCompanySameLayer=i.sameLayer,this.form.checkCompanyNature=i.companyNature,this.form.checkCompanyOfficeRent=i.officeRent,this.form.checkCompanyOverTime=i.overTime,this.form.checkCompanyOnDutyMajority=i.onDutyMajority,this.form.checkCompanyServingCoffee=i.servingCoffee,this.form.checkCompanyServingAfternoonTea=i.servingAfternoonTea,this.form.checkCompanySelfServiceEquipment=i.selfServiceEquipment,this.form.companyPersonNum=i.numberOfCompanies):"医院"==l&&(this.form.buildTypeValue="医院",this.form.checkHospitalType=i.hospitalType,this.form.checkHospitalBusiness=i.hospitalBusiness,this.form.checkHospitalBuildingAttribute=i.buildingAttribute,this.form.checkHospitalBuildingHeight=i.buildingHeight,this.form.medicalNum=i.medicalNum,this.form.receptionNum=i.receptionNum)},saveForm:function(){console.log("name",this.inputSearchVal),""!=this.inputSearchVal?this.submitAction("1"):this.alertMsg("请输入楼宇建筑名称")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e,a){if(console.log("checkHumanTraffic..",t.form.checkHumanTraffic),!e){for(var o in a){t.rules[o][0].message&&(document.getElementById(o).scrollIntoView(),t.alertMsg(t.rules[o][0].message));break}return!1}""!=t.inputSearchVal?""!=t.form.city?""!=t.form.area?""!=t.form.address?t.buildAppearPic.length<2||t.buildHallPic.length<2?t.alertMsg("楼宇及大厅照片各需2张"):t.submitAction("2"):t.alertMsg("请输入地址"):t.alertMsg("请输入行政区"):t.alertMsg("请输入城市"):t.alertMsg("请输入楼宇建筑名称")})},submitAction:function(e){var t=this,a={officeRent:this.form.checkOfficeRent,officeProperty:this.form.checkOfficeProperty,hallArea:this.form.checkHallArea,lobbyHigh:this.form.checkLobbyHigh,facadeMaterial:this.form.checkFacadeMaterial,groundFloor:this.form.checkGroundFloor,airConditioner:this.form.checkAirConditioner,elevatorsNumber:this.form.checkElevatorsNumber,companySize:this.form.checkCompanySize,companyNature:this.form.checkCompanyNature,yesOrNotOverThree:this.form.checkYesOrNotOverThree},o={officeRent:this.form.checkParkOfficeRent,officeProperty:this.form.checkParkOfficeProperty,hallArea:this.form.checkParkHallArea,lobbyHigh:this.form.checkParkLobbyHigh,facadeMaterial:this.form.checkParkFacadeMaterial,groundFloor:this.form.checkParkGroundFloor,airConditioner:this.form.checkParkAirConditioner,elevatorsNumber:this.form.checkParkElevatorsNumber,companySize:this.form.checkParkCompanySize,companyNature:this.form.checkParkCompanyNature,yesOrNotOverThree:this.form.checkParkYesOrNotOverThree},r={schoolTyle:this.form.checkSchoolTyle,numberOfSchool:this.form.checkNumberOfSchool,schoolPutinNumber:this.form.checkSchoolPutinNumber,chargingStandard:this.form.checkChargingStandard,sexRatio:this.form.checkSexRatio,livingExpenses:this.form.checkLivingExpenses,intramuralCommerce:this.form.checkIntramuralCommerce,lessThanThreeThousand:this.form.checkLessThanThreeThousand,buildingAttribute:this.form.checkBuildingAttribute,buildingArea:this.form.checkBuildingArea,buildingHeight:this.form.checkBuildingHeight},i={officeProperty:this.form.checkCompanyOfficeProperty,hallArea:this.form.checkCompanyHallArea,lobbyHigh:this.form.checkCompanyLobbyHigh,facadeMaterial:this.form.checkCompanyFacadeMaterial,groundFloor:this.form.checkCompanyGroundFloor,airConditioner:this.form.checkCompanyAirConditioner,elevatorsNumber:this.form.checkCompanyElevatorsNumber,sameLayer:this.form.checkCompanySameLayer,companyNature:this.form.checkCompanyNature,officeRent:this.form.checkCompanyOfficeRent,overTime:this.form.checkCompanyOverTime,onDutyMajority:this.form.checkCompanyOnDutyMajority,servingCoffee:this.form.checkCompanyServingCoffee,servingAfternoonTea:this.form.checkCompanyServingAfternoonTea,selfServiceEquipment:this.form.checkCompanySelfServiceEquipment,companyPersonNum:this.form.companyPersonNum},l={hospitalType:this.form.checkHospitalType,hospitalBusiness:this.form.checkHospitalBusiness,buildingAttribute:this.form.checkHospitalBuildingAttribute,buildingHeight:this.form.checkHospitalBuildingHeight,medicalNum:this.form.medicalNum,receptionNum:this.form.receptionNum},c={floor:this.form.floor,bCircle:this.form.bCircle,humanTraffic:this.form.checkHumanTraffic,scale:this.form.checkScale,roundBusiness:this.form.checkRoundBusiness,isMoreEntrance:this.form.checkIsMoreEntrance,equipmentLocation:this.form.checkEquipmentLocation,businessCircle:this.form.checkBusinessCircle,populationAge:this.form.checkPopulationAge,coffeeshop:this.form.checkCoffeeshop,hasOtherEquipment:this.form.checkHasOtherEquipment},s={id:this.id,creatorID:this.creatorID,orgID:this.orgID,buildingName:this.inputSearchVal,buildingStatus:"2",buildTypeID:this.form.buildType,city:this.form.city,area:this.form.area,address:this.form.address,buildLongitude:this.form.buildLongitude,buildLatitude:this.form.buildLatitude,contactName:this.form.contactName,contactTel:this.form.contactTel,buildPublicInfo:c,buildSpecialInfo:a,buildAppearPic:"",buildHallPic:""};switch("1"==e&&(s.buildingStatus="1"),this.form.buildTypeValue){case"写字楼":s.buildSpecialInfo=a;break;case"园区":s.buildSpecialInfo=o;break;case"学校":s.buildSpecialInfo=r;break;case"公司":s.buildSpecialInfo=i;break;case"医院":s.buildSpecialInfo=l;break;default:s.buildSpecialInfo=""}console.log("params",s),m.a.post(this.submitFormUrl,s).then(function(a){var o=a.data;console.log("data",o),0==o.error_code?("1"==e?t.alertMsg("保存草稿成功","success"):t.alertMsg("创建成功","success"),t.$router.push({name:"buildDetail",query:{id:o.data.id}})):t.alertMsg("操作失败","error")}).catch(function(e){t.alertMsg(e)})}},components:{}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-body"},[1==e.form.showInfo?a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("div",{staticClass:"line-title"},[e._v("公共信息")]),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"渠道：",prop:"buildType",id:"buildType"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeBuildType},model:{value:e.form.buildType,callback:function(t){e.$set(e.form,"buildType",t)},expression:"form.buildType"}},e._l(e.form.buildTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"search-result",attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"楼宇建筑物名称："}},[a("el-input",{attrs:{readonly:""},on:{focus:e.searchMap},model:{value:e.inputSearchVal,callback:function(t){e.inputSearchVal="string"==typeof t?t.trim():t},expression:"inputSearchVal"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"city",attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"城市："}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"area",attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"行政区："}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"address",attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"地址："}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"商圈：",prop:"bCircle",id:"bCircle"}},[a("el-input",{model:{value:e.form.bCircle,callback:function(t){e.$set(e.form,"bCircle",t)},expression:"form.bCircle"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"楼层：",prop:"floor",id:"floor"}},[a("el-input",{model:{value:e.form.floor,callback:function(t){e.$set(e.form,"floor",t)},expression:"form.floor"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"联系人："}},[a("el-input",{model:{value:e.form.contactName,callback:function(t){e.$set(e.form,"contactName",t)},expression:"form.contactName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"联系方式：",prop:"contactTel",id:"contactTel"}},[a("el-input",{model:{value:e.form.contactTel,callback:function(t){e.$set(e.form,"contactTel",t)},expression:"form.contactTel"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"info_wrap"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"点位人流量：",prop:"checkHumanTraffic",id:"checkHumanTraffic"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkHumanTraffic,callback:function(t){e.$set(e.form,"checkHumanTraffic",t)},expression:"form.checkHumanTraffic"}},e._l(e.baseInfo.commonInfo.humanTraffic,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"是否多个出入口分流：",prop:"checkIsMoreEntrance",id:"checkIsMoreEntrance"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkIsMoreEntrance,callback:function(t){e.$set(e.form,"checkIsMoreEntrance",t)},expression:"form.checkIsMoreEntrance"}},e._l(e.baseInfo.commonInfo.isMoreEntrance,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"人群年龄层：",prop:"checkPopulationAge",id:"checkPopulationAge"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkPopulationAge,callback:function(t){e.$set(e.form,"checkPopulationAge",t)},expression:"form.checkPopulationAge"}},e._l(e.baseInfo.commonInfo.populationAge,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"男女比例：",prop:"checkScale",id:"checkScale"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkScale,callback:function(t){e.$set(e.form,"checkScale",t)},expression:"form.checkScale"}},e._l(e.baseInfo.commonInfo.scale,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"设备摆放位置：",prop:"checkEquipmentLocation",id:"checkEquipmentLocation"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkEquipmentLocation,callback:function(t){e.$set(e.form,"checkEquipmentLocation",t)},expression:"form.checkEquipmentLocation"}},e._l(e.baseInfo.commonInfo.equipmentLocation,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"便利店（现磨）/咖啡厅：",prop:"checkCoffeeshop",id:"checkCoffeeshop"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCoffeeshop,callback:function(t){e.$set(e.form,"checkCoffeeshop",t)},expression:"form.checkCoffeeshop"}},e._l(e.baseInfo.commonInfo.coffeeshop,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"周边30米内商业：",prop:"checkRoundBusiness",id:"checkRoundBusiness"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkRoundBusiness,callback:function(t){e.$set(e.form,"checkRoundBusiness",t)},expression:"form.checkRoundBusiness"}},e._l(e.baseInfo.commonInfo.roundBusiness,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"所在商圈：",prop:"checkBusinessCircle",id:"checkBusinessCircle"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkBusinessCircle,callback:function(t){e.$set(e.form,"checkBusinessCircle",t)},expression:"form.checkBusinessCircle"}},e._l(e.baseInfo.commonInfo.businessCircle,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"是否有其他自助设备：",prop:"checkHasOtherEquipment",id:"checkHasOtherEquipment"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkHasOtherEquipment,callback:function(t){e.$set(e.form,"checkHasOtherEquipment",t)},expression:"form.checkHasOtherEquipment"}},e._l(e.baseInfo.commonInfo.hasOtherEquipment,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"line-title"},[e._v("特殊信息")]),e._v(" "),a("div",{staticClass:"info_wrap"},["写字楼"==e.form.buildTypeValue?a("div",{staticClass:"officeBuilding"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"办公室租金 (天/平米)：",prop:"checkOfficeRent",id:"checkOfficeRent"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkOfficeRent,callback:function(t){e.$set(e.form,"checkOfficeRent",t)},expression:"form.checkOfficeRent"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.officeRent,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"写字楼属性：",prop:"checkOfficeProperty",id:"checkOfficeProperty"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkOfficeProperty,callback:function(t){e.$set(e.form,"checkOfficeProperty",t)},expression:"form.checkOfficeProperty"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.officeProperty,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂面积：",prop:"checkHallArea",id:"checkHallArea"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkHallArea,callback:function(t){e.$set(e.form,"checkHallArea",t)},expression:"form.checkHallArea"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.hallArea,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂挑高：",prop:"checkLobbyHigh",id:"checkLobbyHigh"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkLobbyHigh,callback:function(t){e.$set(e.form,"checkLobbyHigh",t)},expression:"form.checkLobbyHigh"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.lobbyHigh,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"外立面材料：",prop:"checkFacadeMaterial",id:"checkFacadeMaterial"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkFacadeMaterial,callback:function(t){e.$set(e.form,"checkFacadeMaterial",t)},expression:"form.checkFacadeMaterial"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.facadeMaterial,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂地面：",prop:"checkGroundFloor",id:"checkGroundFloor"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkGroundFloor,callback:function(t){e.$set(e.form,"checkGroundFloor",t)},expression:"form.checkGroundFloor"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.groundFloor,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"空调：",prop:"checkAirConditioner",id:"checkAirConditioner"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkAirConditioner,callback:function(t){e.$set(e.form,"checkAirConditioner",t)},expression:"form.checkAirConditioner"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.airConditioner,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"电梯数量：",prop:"checkElevatorsNumber",id:"checkElevatorsNumber"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkElevatorsNumber,callback:function(t){e.$set(e.form,"checkElevatorsNumber",t)},expression:"form.checkElevatorsNumber"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.elevatorsNumber,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"公司规模：",prop:"checkCompanySize",id:"checkCompanySize"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanySize,callback:function(t){e.$set(e.form,"checkCompanySize",t)},expression:"form.checkCompanySize"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.companySize,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"公司性质：",prop:"checkCompanyNature",id:"checkCompanyNature"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyNature,callback:function(t){e.$set(e.form,"checkCompanyNature",t)},expression:"form.checkCompanyNature"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.companyNature,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"是否有公司超过三层：",prop:"checkYesOrNotOverThree",id:"checkYesOrNotOverThree"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkYesOrNotOverThree,callback:function(t){e.$set(e.form,"checkYesOrNotOverThree",t)},expression:"form.checkYesOrNotOverThree"}},e._l(e.baseInfo.buildSpecialInfo.officeBuilding.yesOrNotOverThree,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1)],1):e._e(),e._v(" "),"园区"==e.form.buildTypeValue?a("div",{staticClass:"park"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"办公室租金 (天/平米)：",prop:"checkParkOfficeRent",id:"checkParkOfficeRent"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkOfficeRent,callback:function(t){e.$set(e.form,"checkParkOfficeRent",t)},expression:"form.checkParkOfficeRent"}},e._l(e.baseInfo.buildSpecialInfo.park.officeRent,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"写字楼属性：",prop:"checkParkOfficeProperty",id:"checkParkOfficeProperty"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkOfficeProperty,callback:function(t){e.$set(e.form,"checkParkOfficeProperty",t)},expression:"form.checkParkOfficeProperty"}},e._l(e.baseInfo.buildSpecialInfo.park.officeProperty,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂面积：",prop:"checkParkHallArea",id:"checkParkHallArea"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkHallArea,callback:function(t){e.$set(e.form,"checkParkHallArea",t)},expression:"form.checkParkHallArea"}},e._l(e.baseInfo.buildSpecialInfo.park.hallArea,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂挑高：",prop:"checkParkLobbyHigh",id:"checkParkLobbyHigh"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkLobbyHigh,callback:function(t){e.$set(e.form,"checkParkLobbyHigh",t)},expression:"form.checkParkLobbyHigh"}},e._l(e.baseInfo.buildSpecialInfo.park.lobbyHigh,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"外立面材料：",prop:"checkParkFacadeMaterial",id:"checkParkFacadeMaterial"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkFacadeMaterial,callback:function(t){e.$set(e.form,"checkParkFacadeMaterial",t)},expression:"form.checkParkFacadeMaterial"}},e._l(e.baseInfo.buildSpecialInfo.park.facadeMaterial,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂地面：",prop:"checkParkGroundFloor",id:"checkParkGroundFloor"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkGroundFloor,callback:function(t){e.$set(e.form,"checkParkGroundFloor",t)},expression:"form.checkParkGroundFloor"}},e._l(e.baseInfo.buildSpecialInfo.park.groundFloor,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"空调：",prop:"checkParkAirConditioner",id:"checkParkAirConditioner"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkAirConditioner,callback:function(t){e.$set(e.form,"checkParkAirConditioner",t)},expression:"form.checkParkAirConditioner"}},e._l(e.baseInfo.buildSpecialInfo.park.airConditioner,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"电梯数量：",prop:"checkParkElevatorsNumber",id:"checkParkElevatorsNumber"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkElevatorsNumber,callback:function(t){e.$set(e.form,"checkParkElevatorsNumber",t)},expression:"form.checkParkElevatorsNumber"}},e._l(e.baseInfo.buildSpecialInfo.park.elevatorsNumber,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"公司规模：",prop:"checkParkCompanySize",id:"checkParkCompanySize"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkCompanySize,callback:function(t){e.$set(e.form,"checkParkCompanySize",t)},expression:"form.checkParkCompanySize"}},e._l(e.baseInfo.buildSpecialInfo.park.companySize,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"公司性质：",prop:"checkParkCompanyNature",id:"checkParkCompanyNature"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkCompanyNature,callback:function(t){e.$set(e.form,"checkParkCompanyNature",t)},expression:"form.checkParkCompanyNature"}},e._l(e.baseInfo.buildSpecialInfo.park.companyNature,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"是否有公司超过三层：",prop:"checkParkYesOrNotOverThree",id:"checkParkYesOrNotOverThree"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkParkYesOrNotOverThree,callback:function(t){e.$set(e.form,"checkParkYesOrNotOverThree",t)},expression:"form.checkParkYesOrNotOverThree"}},e._l(e.baseInfo.buildSpecialInfo.park.yesOrNotOverThree,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1)],1):e._e(),e._v(" "),"学校"==e.form.buildTypeValue?a("div",[a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"学校类型：",prop:"checkSchoolTyle",id:"checkSchoolTyle"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkSchoolTyle,callback:function(t){e.$set(e.form,"checkSchoolTyle",t)},expression:"form.checkSchoolTyle"}},e._l(e.baseInfo.buildSpecialInfo.school.schoolTyle,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"学校人数：",prop:"checkNumberOfSchool",id:"checkNumberOfSchool"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkNumberOfSchool,callback:function(t){e.$set(e.form,"checkNumberOfSchool",t)},expression:"form.checkNumberOfSchool"}},e._l(e.baseInfo.buildSpecialInfo.school.numberOfSchool,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"学校投放台数：",prop:"checkSchoolPutinNumber",id:"checkSchoolPutinNumber"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkSchoolPutinNumber,callback:function(t){e.$set(e.form,"checkSchoolPutinNumber",t)},expression:"form.checkSchoolPutinNumber"}},e._l(e.baseInfo.buildSpecialInfo.school.schoolPutinNumber,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"学费收费标准:",prop:"checkChargingStandard",id:"checkChargingStandard"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkChargingStandard,callback:function(t){e.$set(e.form,"checkChargingStandard",t)},expression:"form.checkChargingStandard"}},e._l(e.baseInfo.buildSpecialInfo.school.chargingStandard,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"男女比例：",prop:"checkSexRatio",id:"checkSexRatio"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkSexRatio,callback:function(t){e.$set(e.form,"checkSexRatio",t)},expression:"form.checkSexRatio"}},e._l(e.baseInfo.buildSpecialInfo.school.sexRatio,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"学生每月生活费:",prop:"checkLivingExpenses",id:"checkLivingExpenses"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkLivingExpenses,callback:function(t){e.$set(e.form,"checkLivingExpenses",t)},expression:"form.checkLivingExpenses"}},e._l(e.baseInfo.buildSpecialInfo.school.livingExpenses,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"校内商业：",prop:"checkIntramuralCommerce",id:"checkIntramuralCommerce"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkIntramuralCommerce,callback:function(t){e.$set(e.form,"checkIntramuralCommerce",t)},expression:"form.checkIntramuralCommerce"}},e._l(e.baseInfo.buildSpecialInfo.school.intramuralCommerce,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"在校人数是否少于三千：",prop:"checkLessThanThreeThousand",id:"checkLessThanThreeThousand"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkLessThanThreeThousand,callback:function(t){e.$set(e.form,"checkLessThanThreeThousand",t)},expression:"form.checkLessThanThreeThousand"}},e._l(e.baseInfo.buildSpecialInfo.school.lessThanThreeThousand,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"楼宇属性:",prop:"checkBuildingAttribute",id:"checkBuildingAttribute"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkBuildingAttribute,callback:function(t){e.$set(e.form,"checkBuildingAttribute",t)},expression:"form.checkBuildingAttribute"}},e._l(e.baseInfo.buildSpecialInfo.school.buildingAttribute,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"楼宇占地面积：",prop:"checkBuildingArea",id:"checkBuildingArea"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkBuildingArea,callback:function(t){e.$set(e.form,"checkBuildingArea",t)},expression:"form.checkBuildingArea"}},e._l(e.baseInfo.buildSpecialInfo.school.buildingArea,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"楼宇层高：",prop:"checkBuildingHeight",id:"checkBuildingHeight"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkBuildingHeight,callback:function(t){e.$set(e.form,"checkBuildingHeight",t)},expression:"form.checkBuildingHeight"}},e._l(e.baseInfo.buildSpecialInfo.school.buildingHeight,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1)],1):e._e(),e._v(" "),"公司"==e.form.buildTypeValue?a("div",[a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"写字楼属性：",prop:"checkCompanyOfficeProperty",id:"checkCompanyOfficeProperty"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyOfficeProperty,callback:function(t){e.$set(e.form,"checkCompanyOfficeProperty",t)},expression:"form.checkCompanyOfficeProperty"}},e._l(e.baseInfo.buildSpecialInfo.company.officeProperty,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂面积：",prop:"checkCompanyHallArea",id:"checkCompanyHallArea"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyHallArea,callback:function(t){e.$set(e.form,"checkCompanyHallArea",t)},expression:"form.checkCompanyHallArea"}},e._l(e.baseInfo.buildSpecialInfo.company.hallArea,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂挑高：",prop:"checkCompanyLobbyHigh",id:"checkCompanyLobbyHigh"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyLobbyHigh,callback:function(t){e.$set(e.form,"checkCompanyLobbyHigh",t)},expression:"form.checkCompanyLobbyHigh"}},e._l(e.baseInfo.buildSpecialInfo.company.lobbyHigh,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"外立面材料：",prop:"checkCompanyFacadeMaterial",id:"checkCompanyFacadeMaterial"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyFacadeMaterial,callback:function(t){e.$set(e.form,"checkCompanyFacadeMaterial",t)},expression:"form.checkCompanyFacadeMaterial"}},e._l(e.baseInfo.buildSpecialInfo.company.facadeMaterial,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"大堂地面：",prop:"checkCompanyGroundFloor",id:"checkCompanyGroundFloor"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyGroundFloor,callback:function(t){e.$set(e.form,"checkCompanyGroundFloor",t)},expression:"form.checkCompanyGroundFloor"}},e._l(e.baseInfo.buildSpecialInfo.company.groundFloor,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"空调：",prop:"checkCompanyAirConditioner",id:"checkCompanyAirConditioner"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyAirConditioner,callback:function(t){e.$set(e.form,"checkCompanyAirConditioner",t)},expression:"form.checkCompanyAirConditioner"}},e._l(e.baseInfo.buildSpecialInfo.company.airConditioner,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"电梯数量：",prop:"checkCompanyElevatorsNumber",id:"checkCompanyElevatorsNumber"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyElevatorsNumber,callback:function(t){e.$set(e.form,"checkCompanyElevatorsNumber",t)},expression:"form.checkCompanyElevatorsNumber"}},e._l(e.baseInfo.buildSpecialInfo.company.elevatorsNumber,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"公司是否在同层：",prop:"checkCompanySameLayer",id:"checkCompanySameLayer"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanySameLayer,callback:function(t){e.$set(e.form,"checkCompanySameLayer",t)},expression:"form.checkCompanySameLayer"}},e._l(e.baseInfo.buildSpecialInfo.company.sameLayer,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"公司性质：",prop:"checkCompanyNature",id:"checkCompanyNature"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyNature,callback:function(t){e.$set(e.form,"checkCompanyNature",t)},expression:"form.checkCompanyNature"}},e._l(e.baseInfo.buildSpecialInfo.company.companyNature,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"办公室租金：",prop:"checkCompanyOfficeRent",id:"checkCompanyOfficeRent"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyOfficeRent,callback:function(t){e.$set(e.form,"checkCompanyOfficeRent",t)},expression:"form.checkCompanyOfficeRent"}},e._l(e.baseInfo.buildSpecialInfo.company.officeRent,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"员工是否经常加班：",prop:"checkCompanyOverTime",id:"checkCompanyOverTime"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyOverTime,callback:function(t){e.$set(e.form,"checkCompanyOverTime",t)},expression:"form.checkCompanyOverTime"}},e._l(e.baseInfo.buildSpecialInfo.company.overTime,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"公司人数：",prop:"companyPersonNum",id:"companyPersonNum"}},[a("el-input",{model:{value:e.form.companyPersonNum,callback:function(t){e.$set(e.form,"companyPersonNum",t)},expression:"form.companyPersonNum"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"是否提供咖啡：",prop:"checkCompanyServingCoffee",id:"checkCompanyServingCoffee"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyServingCoffee,callback:function(t){e.$set(e.form,"checkCompanyServingCoffee",t)},expression:"form.checkCompanyServingCoffee"}},e._l(e.baseInfo.buildSpecialInfo.company.servingCoffee,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"是否提供下午茶：",prop:"checkCompanyServingAfternoonTea",id:"checkCompanyServingAfternoonTea"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyServingAfternoonTea,callback:function(t){e.$set(e.form,"checkCompanyServingAfternoonTea",t)},expression:"form.checkCompanyServingAfternoonTea"}},e._l(e.baseInfo.buildSpecialInfo.company.servingAfternoonTea,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"是否有其他自助设备：",prop:"checkCompanySelfServiceEquipment",id:"checkCompanySelfServiceEquipment"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanySelfServiceEquipment,callback:function(t){e.$set(e.form,"checkCompanySelfServiceEquipment",t)},expression:"form.checkCompanySelfServiceEquipment"}},e._l(e.baseInfo.buildSpecialInfo.company.selfServiceEquipment,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"坐班人员是否占大多数：",prop:"checkCompanyOnDutyMajority",id:"checkCompanyOnDutyMajority"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkCompanyOnDutyMajority,callback:function(t){e.$set(e.form,"checkCompanyOnDutyMajority",t)},expression:"form.checkCompanyOnDutyMajority"}},e._l(e.baseInfo.buildSpecialInfo.company.onDutyMajority,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1)],1):e._e(),e._v(" "),"医院"==e.form.buildTypeValue?a("div",[a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"医院类型：",prop:"checkHospitalType",id:"checkHospitalType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkHospitalType,callback:function(t){e.$set(e.form,"checkHospitalType",t)},expression:"form.checkHospitalType"}},e._l(e.baseInfo.buildSpecialInfo.hospital.hospitalType,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"院内商业：",prop:"checkHospitalBusiness",id:"checkHospitalBusiness"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkHospitalBusiness,callback:function(t){e.$set(e.form,"checkHospitalBusiness",t)},expression:"form.checkHospitalBusiness"}},e._l(e.baseInfo.buildSpecialInfo.hospital.hospitalBusiness,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"楼宇属性：",prop:"checkHospitalBuildingAttribute",id:"checkHospitalBuildingAttribute"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkHospitalBuildingAttribute,callback:function(t){e.$set(e.form,"checkHospitalBuildingAttribute",t)},expression:"form.checkHospitalBuildingAttribute"}},e._l(e.baseInfo.buildSpecialInfo.hospital.buildingAttribute,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"楼宇层高：",prop:"checkHospitalBuildingHeight",id:"checkHospitalBuildingHeight"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.checkHospitalBuildingHeight,callback:function(t){e.$set(e.form,"checkHospitalBuildingHeight",t)},expression:"form.checkHospitalBuildingHeight"}},e._l(e.baseInfo.buildSpecialInfo.hospital.buildingHeight,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"医护人员数量：",prop:"medicalNum",id:"medicalNum"}},[a("el-input",{model:{value:e.form.medicalNum,callback:function(t){e.$set(e.form,"medicalNum",t)},expression:"form.medicalNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{attrs:{label:"门诊接待量 ：",prop:"receptionNum",id:"receptionNum"}},[a("el-input",{model:{value:e.form.receptionNum,callback:function(t){e.$set(e.form,"receptionNum",t)},expression:"form.receptionNum"}})],1)],1)],1)],1):e._e()]),e._v(" "),a("div",{staticClass:"line-title"},[e._v("照片")]),e._v(" "),a("div",{staticClass:"sub-title"},[e._v("楼宇照片")]),e._v(" "),a("div",{staticClass:"pic-line",staticStyle:{clear:"both"}},e._l(e.buildAppearPic,function(e,t){return a("img",{key:t,staticClass:"pic",attrs:{src:e}})}),0),e._v(" "),a("div",{staticClass:"sub-title"},[e._v("大厅照片")]),e._v(" "),a("div",{staticClass:"pic-line",staticStyle:{clear:"both"}},e._l(e.buildHallPic,function(e,t){return a("img",{key:t,staticClass:"pic",attrs:{src:e}})}),0),e._v(" "),a("el-form-item",{staticClass:"div-submit",attrs:{size:"medium"}},[a("el-button",{on:{click:function(t){e.saveForm()}}},[e._v("保存草稿")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("创建")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.mapShow,expression:"mapShow"}],staticClass:"map-container"},[a("div",{staticClass:"map-bg"},[a("el-row",{staticClass:"build-name",attrs:{gutter:10}},[a("el-col",{staticClass:"building-name",attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"楼宇名称搜索："}},[a("el-input",{model:{value:e.inputSearchText,callback:function(t){e.inputSearchText="string"==typeof t?t.trim():t},expression:"inputSearchText"}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],staticClass:"search-address-list"},e._l(e.searchAddressList,function(t,o){return a("div",{key:o,staticClass:"choose-one-address",on:{click:function(t){e.chooseOneAddress(o)}}},[a("p",{staticClass:"address1"},[e._v(e._s(t.title))]),e._v(" "),a("p",{staticClass:"address2"},[e._v(e._s(t.address))])])}),0)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMap,expression:"showMap"}],attrs:{id:"allmap"}}),e._v(" "),a("div",{staticClass:"close-map",on:{click:e.closeMap}},[a("i",{staticClass:"el-icon-close"})])],1)])],1):e._e()],1)},staticRenderFns:[]};var p=a("C7Lr")(f,h,!1,function(e){a("yiNV")},null,null).exports,d={data:function(){return{showInfo:2,id:"",submitFormUrl:"/building-record/rate-building-record",recordInfo:[],buildTypeValue:"",commonInfo:baseInfo.commonInfo,specialInfo:baseInfo.buildSpecialInfo,commonInfoData:"",buildSpecialInfo:"",dialogFormVisible:!1,buildAppearPic:[],buildHallPic:[],buildTypeList:{},showButton:!1,form:{reason:""},formLabelWidth:"100px",isAgree:!1,commonDataList:[{humanTraffic:"",scale:"",roundBusiness:"",isMoreEntrance:"",equipmentLocation:"",businessCircle:"",populationAge:"",coffeeshop:"",hasOtherEquipment:""}],specialDataBuildList:[{officeRent:"",officeProperty:"",hallArea:"",lobbyHigh:"",facadeMaterial:"",groundFloor:"",airConditioner:"",elevatorsNumber:"",companySize:"",companyNature:"",yesOrNotOverThree:""}],specialDataParkList:[{officeRent:"",officeProperty:"",hallArea:"",lobbyHigh:"",facadeMaterial:"",groundFloor:"",airConditioner:"",elevatorsNumber:"",companySize:"",companyNature:"",yesOrNotOverThree:""}],specialDataSchoolList:[{schoolTyle:"",numberOfSchool:"",schoolPutinNumber:"",chargingStandard:"",sexRatio:"",livingExpenses:"",intramuralCommerce:"",lessThanThreeThousand:"",buildingAttribute:"",buildingArea:"",buildingHeight:""}],specialDataCompanyList:[{officeProperty:"",hallArea:"",lobbyHigh:"",facadeMaterial:"",groundFloor:"",airConditioner:"",elevatorsNumber:"",sameLayer:"",companyNature:"",officeRent:"",overTime:"",onDutyMajority:"",servingCoffee:"",servingAfternoonTea:"",selfServiceEquipment:"",companyPersonNum:""}],specialDataHospitalList:[{hospitalType:"",hospitalBusiness:"",buildingAttribute:"",buildingHeight:"",medicalNum:"",receptionNum:""}],buildRateData:[],buildRate:{},transferList:[],showModal:!1}},mounted:function(){this.init()},methods:{init:function(){var e=this;window.parent.onscroll=function(t){e.scrollMsg()},this.id=this.$route.query.id,this.showButton=this.$route.query.evaluate,console.log("evaluate.",this.$route.query.evaluate),this.getDetailData()},render:function(){this.commonInfoData=this.recordInfo[0].buildPublicInfo,this.buildSpecialInfo=this.recordInfo[0].buildSpecialInfo,this.buildAppearPic=this.recordInfo[0].buildAppearPic,this.buildHallPic=this.recordInfo[0].buildHallPic,this.buildTypeValue=this.buildTypeList[this.recordInfo[0].buildTypeID],this.recordInfo[0].buildTypeValue=this.buildTypeValue,this.commonDataList[0].humanTraffic=this.commonInfo.humanTraffic[this.commonInfoData.humanTraffic],this.commonDataList[0].scale=this.commonInfo.scale[this.commonInfoData.scale],this.commonDataList[0].isMoreEntrance=this.commonInfo.isMoreEntrance[this.commonInfoData.isMoreEntrance],this.commonDataList[0].populationAge=this.commonInfo.populationAge[this.commonInfoData.populationAge],this.commonDataList[0].equipmentLocation=this.commonInfo.equipmentLocation[this.commonInfoData.equipmentLocation],this.commonDataList[0].coffeeshop=this.commonInfo.coffeeshop[this.commonInfoData.coffeeshop],this.commonDataList[0].roundBusiness=this.commonInfo.roundBusiness[this.commonInfoData.roundBusiness],this.commonDataList[0].hasOtherEquipment=this.commonInfo.hasOtherEquipment[this.commonInfoData.hasOtherEquipment],this.commonDataList[0].businessCircle=this.commonInfo.businessCircle[this.commonInfoData.businessCircle],console.log("special",this.buildSpecialInfo),"写字楼"==this.buildTypeValue?(this.specialDataBuildList[0].officeRent=this.specialInfo.officeBuilding.officeRent[this.buildSpecialInfo.officeRent],this.specialDataBuildList[0].officeProperty=this.specialInfo.officeBuilding.officeProperty[this.buildSpecialInfo.officeProperty],this.specialDataBuildList[0].hallArea=this.specialInfo.officeBuilding.hallArea[this.buildSpecialInfo.hallArea],this.specialDataBuildList[0].lobbyHigh=this.specialInfo.officeBuilding.lobbyHigh[this.buildSpecialInfo.lobbyHigh],this.specialDataBuildList[0].facadeMaterial=this.specialInfo.officeBuilding.facadeMaterial[this.buildSpecialInfo.facadeMaterial],this.specialDataBuildList[0].groundFloor=this.specialInfo.officeBuilding.groundFloor[this.buildSpecialInfo.groundFloor],this.specialDataBuildList[0].airConditioner=this.specialInfo.officeBuilding.airConditioner[this.buildSpecialInfo.airConditioner],this.specialDataBuildList[0].elevatorsNumber=this.specialInfo.officeBuilding.elevatorsNumber[this.buildSpecialInfo.elevatorsNumber],this.specialDataBuildList[0].companySize=this.specialInfo.officeBuilding.companySize[this.buildSpecialInfo.companySize],this.specialDataBuildList[0].companyNature=this.specialInfo.officeBuilding.companyNature[this.buildSpecialInfo.companyNature],this.specialDataBuildList[0].yesOrNotOverThree=this.specialInfo.officeBuilding.yesOrNotOverThree[this.buildSpecialInfo.yesOrNotOverThree]):"园区"==this.buildTypeValue?(this.specialDataParkList[0].officeRent=this.specialInfo.park.officeRent[this.buildSpecialInfo.officeRent],this.specialDataParkList[0].officeProperty=this.specialInfo.park.officeProperty[this.buildSpecialInfo.officeProperty],this.specialDataParkList[0].hallArea=this.specialInfo.park.hallArea[this.buildSpecialInfo.hallArea],this.specialDataParkList[0].lobbyHigh=this.specialInfo.park.lobbyHigh[this.buildSpecialInfo.lobbyHigh],this.specialDataParkList[0].facadeMaterial=this.specialInfo.park.facadeMaterial[this.buildSpecialInfo.facadeMaterial],this.specialDataParkList[0].groundFloor=this.specialInfo.park.groundFloor[this.buildSpecialInfo.groundFloor],this.specialDataParkList[0].airConditioner=this.specialInfo.park.airConditioner[this.buildSpecialInfo.airConditioner],this.specialDataParkList[0].elevatorsNumber=this.specialInfo.park.elevatorsNumber[this.buildSpecialInfo.elevatorsNumber],this.specialDataParkList[0].companySize=this.specialInfo.park.companySize[this.buildSpecialInfo.companySize],this.specialDataParkList[0].companyNature=this.specialInfo.park.companyNature[this.buildSpecialInfo.companyNature],this.specialDataParkList[0].yesOrNotOverThree=this.specialInfo.park.yesOrNotOverThree[this.buildSpecialInfo.yesOrNotOverThree]):"学校"==this.buildTypeValue?(this.specialDataSchoolList[0].schoolTyle=this.specialInfo.school.schoolTyle[this.buildSpecialInfo.schoolTyle],this.specialDataSchoolList[0].numberOfSchool=this.specialInfo.school.numberOfSchool[this.buildSpecialInfo.numberOfSchool],this.specialDataSchoolList[0].schoolPutinNumber=this.specialInfo.school.schoolPutinNumber[this.buildSpecialInfo.schoolPutinNumber],this.specialDataSchoolList[0].chargingStandard=this.specialInfo.school.chargingStandard[this.buildSpecialInfo.chargingStandard],this.specialDataSchoolList[0].sexRatio=this.specialInfo.school.sexRatio[this.buildSpecialInfo.sexRatio],this.specialDataSchoolList[0].livingExpenses=this.specialInfo.school.livingExpenses[this.buildSpecialInfo.livingExpenses],this.specialDataSchoolList[0].intramuralCommerce=this.specialInfo.school.intramuralCommerce[this.buildSpecialInfo.intramuralCommerce],this.specialDataSchoolList[0].lessThanThreeThousand=this.specialInfo.school.lessThanThreeThousand[this.buildSpecialInfo.lessThanThreeThousand],this.specialDataSchoolList[0].buildingAttribute=this.specialInfo.school.buildingAttribute[this.buildSpecialInfo.buildingAttribute],this.specialDataSchoolList[0].buildingArea=this.specialInfo.school.buildingArea[this.buildSpecialInfo.buildingArea],this.specialDataSchoolList[0].buildingHeight=this.specialInfo.school.buildingHeight[this.buildSpecialInfo.buildingHeight]):"公司"==this.buildTypeValue?(this.specialDataCompanyList[0].officeProperty=this.specialInfo.company.officeProperty[this.buildSpecialInfo.officeProperty],this.specialDataCompanyList[0].hallArea=this.specialInfo.company.hallArea[this.buildSpecialInfo.hallArea],this.specialDataCompanyList[0].lobbyHigh=this.specialInfo.company.lobbyHigh[this.buildSpecialInfo.lobbyHigh],this.specialDataCompanyList[0].facadeMaterial=this.specialInfo.company.facadeMaterial[this.buildSpecialInfo.facadeMaterial],this.specialDataCompanyList[0].groundFloor=this.specialInfo.company.groundFloor[this.buildSpecialInfo.groundFloor],this.specialDataCompanyList[0].airConditioner=this.specialInfo.company.airConditioner[this.buildSpecialInfo.airConditioner],this.specialDataCompanyList[0].elevatorsNumber=this.specialInfo.company.elevatorsNumber[this.buildSpecialInfo.elevatorsNumber],this.specialDataCompanyList[0].sameLayer=this.specialInfo.company.sameLayer[this.buildSpecialInfo.sameLayer],this.specialDataCompanyList[0].companyNature=this.specialInfo.company.companyNature[this.buildSpecialInfo.companyNature],this.specialDataCompanyList[0].officeRent=this.specialInfo.company.officeRent[this.buildSpecialInfo.officeRent],this.specialDataCompanyList[0].overTime=this.specialInfo.company.overTime[this.buildSpecialInfo.overTime],this.specialDataCompanyList[0].onDutyMajority=this.specialInfo.company.onDutyMajority[this.buildSpecialInfo.onDutyMajority],this.specialDataCompanyList[0].servingCoffee=this.specialInfo.company.servingCoffee[this.buildSpecialInfo.servingCoffee],this.specialDataCompanyList[0].servingAfternoonTea=this.specialInfo.company.servingAfternoonTea[this.buildSpecialInfo.servingAfternoonTea],this.specialDataCompanyList[0].selfServiceEquipment=this.specialInfo.company.selfServiceEquipment[this.buildSpecialInfo.selfServiceEquipment],this.specialDataCompanyList[0].companyPersonNum=this.buildSpecialInfo.numberOfCompanies):"医院"==this.buildTypeValue&&(this.specialDataHospitalList[0].hospitalType=this.specialInfo.company.hospitalType[this.buildSpecialInfo.hospitalType],this.specialDataHospitalList[0].hospitalBusiness=this.specialInfo.company.hospitalBusiness[this.buildSpecialInfo.hospitalBusiness],this.specialDataHospitalList[0].buildingAttribute=this.specialInfo.company.buildingAttribute[this.buildSpecialInfo.buildingAttribute],this.specialDataHospitalList[0].buildingHeight=this.specialInfo.company.buildingHeight[this.buildSpecialInfo.buildingHeight],this.specialDataHospitalList[0].medicalNum=this.buildSpecialInfo.medicalNum,this.specialDataHospitalList[0].receptionNum=this.buildSpecialInfo.receptionNum)},showModalToast:function(e){this.dialogFormVisible=!0,2==e?(this.isAgree=!0,this.form.reason=""):(this.isAgree=!1,this.form.reason="")},alertMsg:function(e,t){var a=t||"error";this.$message({message:e,duration:3600,type:a}),this.scrollMsg()},scrollMsg:function(){if(self!=top){var e=window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50,t=document.getElementsByClassName("el-message")[0],a=document.getElementsByClassName("el-dialog")[0];t&&(t.style.cssText="top: "+e+"px;z-index:1000;"),a&&(a.style.cssText="top: "+(e+100)+"px;z-index:1000;")}},getDetailData:function(){var e=this;m.a.get("/building-record/view?id="+this.id).then(function(t){console.log("res",t);var a=t.data;if("0"!=a.error_code)return e.alertMsg(a.msg),void(e.showInfo=2);e.showInfo=1,e.recordInfo.push(a.data.recordInfo),e.buildRate=a.data.buildRate,"{}"!=e.buildRate&&e.buildRateData.push(a.data.buildRate),e.transferList=a.data.transferList,e.buildTypeList=a.data.buildTypeList,e.render(),console.log("info",e.recordInfo)}).catch(function(e){console.log("error..",e)})},updateRateData:function(){var e=this;m.a.get("/building-record/view?id="+this.id).then(function(t){console.log("updateRateData res",t);var a=t.data;"0"==a.error_code?(e.buildRate=a.data.buildRate,"{}"!=e.buildRate&&e.buildRateData.push(a.data.buildRate)):e.alertMsg(a.msg)}).catch(function(e){console.log("error..",e)})},submitForm:function(){""==this.form.reason?this.alertMsg("请输入原因","error"):(this.submitAction(),this.dialogFormVisible=!1)},submitAction:function(){var e=this,t={build_record_id:this.id,rate_info:this.form.reason,rate_status:this.isAgree?"1":"2"};console.log("params",t),m.a.post(this.submitFormUrl,t).then(function(t){var a=t.data;if(console.log("data",a),0!=a.error_code)return e.alertMsg(a.msg),!1;e.updateRateData(),e.alertMsg("初评成功","success")}).catch(function(t){e.alertMsg(t)})}},components:{}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1==e.showInfo?a("div",{staticClass:"content-body"},[a("div",{staticClass:"line-title"},[e._v("公共信息")]),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.recordInfo,border:""}},[a("el-table-column",{attrs:{prop:"buildTypeValue",label:"渠道",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildingName",label:"楼宇(建筑物)名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"城市"}}),e._v(" "),a("el-table-column",{attrs:{prop:"area",label:"行政区"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildPublicInfo.bCircle",label:"商圈"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildPublicInfo.floor",label:"楼层"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contactName",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contactTel",label:"联系方式"}})],1),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{border:"",data:e.commonDataList}},[a("el-table-column",{attrs:{prop:"humanTraffic",label:"点位人流量",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isMoreEntrance",label:"是否多个出入口分流",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"populationAge",label:"人群年龄层"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scale",label:"男女比例"}}),e._v(" "),a("el-table-column",{attrs:{prop:"equipmentLocation",label:"设备摆放位置"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coffeeshop",label:"便利店（现磨）/ 咖啡厅"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roundBusiness",label:"周边30米内商业"}}),e._v(" "),a("el-table-column",{attrs:{prop:"businessCircle",label:"所在商圈"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hasOtherEquipment",label:"是否有其他自助设备"}})],1),e._v(" "),"写字楼"==e.buildTypeValue?a("div",[a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataBuildList,border:""}},[a("el-table-column",{attrs:{prop:"officeRent",label:"办公室租金",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"officeProperty",label:"写字楼属性",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hallArea",label:"大堂面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lobbyHigh",label:"大堂挑高"}}),e._v(" "),a("el-table-column",{attrs:{prop:"facadeMaterial",label:"外立面材料"}}),e._v(" "),a("el-table-column",{attrs:{prop:"groundFloor",label:"大堂地面"}})],1),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataBuildList,border:""}},[a("el-table-column",{attrs:{prop:"airConditioner",label:"空调"}}),e._v(" "),a("el-table-column",{attrs:{prop:"elevatorsNumber",label:"电梯数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companySize",label:"公司规模"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyNature",label:"公司性质"}}),e._v(" "),a("el-table-column",{attrs:{prop:"yesOrNotOverThree",label:"是否有公司超过三层"}})],1)],1):e._e(),e._v(" "),"园区"==e.buildTypeValue?a("div",[a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataParkList,border:""}},[a("el-table-column",{attrs:{prop:"officeRent",label:"办公室租金",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"officeProperty",label:"写字楼属性",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hallArea",label:"大堂面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lobbyHigh",label:"大堂挑高"}}),e._v(" "),a("el-table-column",{attrs:{prop:"facadeMaterial",label:"外立面材料"}}),e._v(" "),a("el-table-column",{attrs:{prop:"groundFloor",label:"大堂地面"}})],1),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataParkList,border:""}},[a("el-table-column",{attrs:{prop:"airConditioner",label:"空调"}}),e._v(" "),a("el-table-column",{attrs:{prop:"elevatorsNumber",label:"电梯数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companySize",label:"公司规模"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyNature",label:"公司性质"}}),e._v(" "),a("el-table-column",{attrs:{prop:"yesOrNotOverThree",label:"是否有公司超过三层"}})],1)],1):e._e(),e._v(" "),"学校"==e.buildTypeValue?a("div",[a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataSchoolList,border:""}},[a("el-table-column",{attrs:{prop:"schoolTyle",label:"学校类型",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"numberOfSchool",label:"学校人数",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"schoolPutinNumber",label:"学校投放台数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chargingStandard",label:"学费收费标准"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sexRatio",label:"男女比例"}}),e._v(" "),a("el-table-column",{attrs:{prop:"livingExpenses",label:"每个月生活费"}})],1),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataSchoolList,border:""}},[a("el-table-column",{attrs:{prop:"intramuralCommerce",label:"校内商业"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lessThanThreeThousand",label:"在校人数是否少于三千"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildingAttribute",label:"楼宇属性"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildingArea",label:"楼宇占地面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildingHeight",label:"楼宇层高"}})],1)],1):e._e(),e._v(" "),"公司"==e.buildTypeValue?a("div",[a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataCompanyList,border:""}},[a("el-table-column",{attrs:{prop:"officeProperty",label:"写字楼属性",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hallArea",label:"大堂面积",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lobbyHigh",label:"大堂挑高"}}),e._v(" "),a("el-table-column",{attrs:{prop:"facadeMaterial",label:"外立面材料"}}),e._v(" "),a("el-table-column",{attrs:{prop:"groundFloor",label:"大堂地面"}}),e._v(" "),a("el-table-column",{attrs:{prop:"airConditioner",label:"空调"}}),e._v(" "),a("el-table-column",{attrs:{prop:"elevatorsNumber",label:"电梯数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sameLayer",label:"公司是否在同层"}})],1),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataCompanyList,border:""}},[a("el-table-column",{attrs:{prop:"companyNature",label:"公司性质"}}),e._v(" "),a("el-table-column",{attrs:{prop:"officeRent",label:"办公室租金"}}),e._v(" "),a("el-table-column",{attrs:{prop:"overTime",label:"员工是否经常加班"}}),e._v(" "),a("el-table-column",{attrs:{prop:"onDutyMajority",label:"坐班人员是否占大多数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"servingCoffee",label:"是否提供咖啡"}}),e._v(" "),a("el-table-column",{attrs:{prop:"servingAfternoonTea",label:"是否提供下午茶"}}),e._v(" "),a("el-table-column",{attrs:{prop:"selfServiceEquipment",label:"是否有其他自助设备"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyPersonNum",label:"公司人数"}})],1)],1):e._e(),e._v(" "),"医院"==e.buildTypeValue?a("div",[a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.specialDataHospitalList,border:""}},[a("el-table-column",{attrs:{prop:"hospitalType",label:"医院类型",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hospitalBusiness",label:"院内商业",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildingAttribute",label:"楼宇属性"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buildingHeight",label:"楼宇层高"}}),e._v(" "),a("el-table-column",{attrs:{prop:"medicalNum",label:"医护人员数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receptionNum",label:"门诊接待量"}})],1)],1):e._e(),e._v(" "),a("div",{staticClass:"line-title"},[e._v("照片")]),e._v(" "),a("div",{staticClass:"sub-title"},[e._v("楼宇照片")]),e._v(" "),a("div",{staticClass:"pic-line",staticStyle:{clear:"both"}},e._l(e.buildAppearPic,function(e,t){return a("img",{key:t,staticClass:"pic",attrs:{src:e}})}),0),e._v(" "),a("div",{staticClass:"sub-title"},[e._v("大厅照片")]),e._v(" "),a("div",{staticClass:"pic-line",staticStyle:{clear:"both"}},e._l(e.buildHallPic,function(e,t){return a("img",{key:t,staticClass:"pic",attrs:{src:e}})}),0),e._v(" "),a("div",{staticClass:"line-title"},[e._v("初评建议")]),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{border:"",data:e.buildRateData}},[a("el-table-column",{attrs:{prop:"role_name",label:"职位名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rate_id",label:"操作人",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rate_time",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rate_status",label:"初评建议"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rate_info",label:"建议详情"}})],1),e._v(" "),a("div",{staticClass:"line-title"},[e._v("转交记录")]),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{border:"",data:e.transferList}},[a("el-table-column",{attrs:{prop:"role_ame",label:"职位名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transfer_id",label:"操作人",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transfer_time",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"original_creator_name",label:"原操作人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"new_creator_name",label:"新负责人"}})],1),e._v(" "),e.showButton?a("div",{staticClass:"div-submit buttonSubmit"},[a("el-button",{on:{click:function(t){e.showModalToast(1)}}},[e._v("不通过")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showModalToast(2)}}},[e._v("通过")])],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"建议",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"原因:","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"80%"},attrs:{autocomplete:"off"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason","string"==typeof t?t.trim():t)},expression:"form.reason"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm()}}},[e._v("确 定")])],1)],1)],1):e._e()},staticRenderFns:[]};var g=a("C7Lr")(d,b,!1,function(e){a("bR+S")},null,null).exports,k=a("HzJ8"),y=a.n(k),v={data:function(){return{form:{},showInfo:"2",buildingRecordList:[],buildTypeList:[],orgList:[],buildName:"",buildingStatus:"",buildingStatusList:[{label:"保存草稿",value:"1"},{label:"创建",value:"2"}],createTime:[],creater:"",creatorList:[],orgName:"",buildType:"",dialogFormVisible:!1,creatorChangeList:[],newCreator:"",newCreatorList:[],isShowSearch:!0,isShowCreate:!1,isShowTransfer:!1,isShowUpdate:!1,isShowView:!1,isShowEvaluate:!1,multipleSelection:[],listCount:0,restaurants:[],pageSize:20}},mounted:function(){this.init()},methods:{init:function(){var e=this;window.parent.onscroll=function(t){e.scrollMsg()},m.a.get("/building-record/list").then(function(t){console.log("building-record/list...",t);var a=t.data;if(0!=a.error_code)return e.alertMsg(a.msg),!1;e.buildingRecordList=a.data.recordList.buildingRecordList,e.buildTypeList=a.data.buildTypeList,e.restaurants=a.data.buildNameList,e.orgList=a.data.orgList,e.creatorList=a.data.creatorList,e.newCreatorList=a.data.newCreator,e.isShowTransfer=a.data.transmit,e.isShowCreate=a.data.create,e.isShowView=a.data.view,e.isShowEvaluate=a.data.evaluate,e.isShowUpdate=a.data.update,e.listCount=parseInt(a.data.recordList.totalCount),e.formatData()}).catch(function(e){console.log("error..",e)})},formatData:function(){this.buildingRecordList.map(function(e,t){e.index=t+1,e.building_status=1==e.building_status?"草稿":"已创建",0==e.rate_status?e.rate_status="未初评":1==e.rate_status?e.rate_status="已初评":e.rate_status="驳回"})},changePageData:function(e){this.searchData(e-1)},edit:function(e){this.$router.push({name:"buildRecord",query:{id:e.id}})},detail:function(e){this.$router.push({name:"buildDetail",query:{id:e.id}})},evaluate:function(e){this.$router.push({name:"buildDetail",query:{id:e.id,evaluate:!0}})},querySearch:function(e,t){var a=this.restaurants,o=e?a.filter(this.createFilter(e)):a;console.log("results",t(o)),t(o)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelectionChange:function(e){this.multipleSelection=e,console.log("selection",this.multipleSelection)},resetCondition:function(){this.createTime=[],this.creater="",this.orgName="",this.buildType="",this.buildName="",this.buildingStatus=""},goRecord:function(){this.$router.push({name:"buildRecord",query:{id:""}})},transferToastShow:function(){if(0==this.multipleSelection.length)return this.alertMsg("请选择要转交的楼宇列表"),!1;this.dialogFormVisible=!0},transmitAction:function(){var e=this;if(""==this.newCreator)return this.alertMsg("请选择新负责人"),!1;var t=[],a=!0,o=!1,r=void 0;try{for(var i,l=y()(this.multipleSelection);!(a=(i=l.next()).done);a=!0){var c=i.value;t.push({id:c.id,creator_id:c.creator_id})}}catch(e){o=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}var s={transferInfo:{new_creator_name:this.newCreator},buildingIDList:t};console.log("tran",s),m.a.post("/building-record/transfer",s).then(function(t){var a=t.data;if(0!=a.error_code)return e.alertMsg(a.msg),!1;e.alertMsg(a.msg,"success"),e.dialogFormVisible=!1,e.init()}).catch(function(e){console.log("error..",e)})},searchData:function(e){var t=this;console.log("搜索的page",e);var a={BuildingRecordSearch:{org_id:this.orgName,building_name:this.buildName,build_type_id:this.buildType,creator_id:this.creater,building_status:this.buildingStatus,beginTime:this.createTime[0],endTime:this.createTime[1]},page:e};0==this.createTime.length&&(a.BuildingRecordSearch.beginTime="",a.BuildingRecordSearch.endTime=""),console.log("params",a),m.a.post("/building-record/search-record",a).then(function(e){var a=e.data;console.log("search-record data",a),0==a.error_code?(t.buildingRecordList=a.data.buildingRecordList,t.listCount=parseInt(a.data.totalCount),t.formatData()):t.alertMsg("网络异常","error")}).catch(function(e){t.alertMsg(e)})},alertMsg:function(e,t){var a=t||"error";this.$message({message:e,duration:3600,type:a}),this.scrollMsg()},scrollMsg:function(){if(self!=top){var e=window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50,t=document.getElementsByClassName("el-message")[0];t&&(t.style.cssText="top: "+e+"px;z-index:1000;")}}},components:{}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-body"},[a("div",{staticClass:"line-title"},[e._v("楼宇")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"building-name",attrs:{span:7,offset:0}},[a("el-form-item",{attrs:{label:"楼宇名称："}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},model:{value:e.buildName,callback:function(t){e.buildName=t},expression:"buildName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:0}},[a("el-form-item",{attrs:{label:"渠道："}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.buildType,callback:function(t){e.buildType=t},expression:"buildType"}},e._l(e.buildTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.type_name,value:e.id}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:0}},[a("el-form-item",{attrs:{label:"分公司："}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.orgName,callback:function(t){e.orgName=t},expression:"orgName"}},e._l(e.orgList,function(e,t){return a("el-option",{key:t,attrs:{label:e.org_name,value:e.org_id}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:7,offset:0}},[a("el-form-item",{attrs:{label:"创建人："}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.creater,callback:function(t){e.creater=t},expression:"creater"}},e._l(e.creatorList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:0}},[a("el-form-item",{attrs:{label:"楼宇状态："}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.buildingStatus,callback:function(t){e.buildingStatus=t},expression:"buildingStatus"}},e._l(e.buildingStatusList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:0}},[a("el-form-item",{attrs:{label:"提交时间："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"div-submit",attrs:{size:"medium"}},[e.isShowSearch?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchData(0)}}},[e._v("搜索")]):e._e(),e._v(" "),e.isShowSearch?a("el-button",{attrs:{type:"primary"},on:{click:e.resetCondition}},[e._v("重置")]):e._e()],1),e._v(" "),a("el-form-item",{staticClass:"div-submit",attrs:{size:"medium"}},[e.isShowTransfer?a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.transferToastShow}},[e._v("转交")]):e._e(),e._v(" "),e.isShowCreate?a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.goRecord}},[e._v("新建")]):e._e()],1),e._v(" "),a("el-table",{staticClass:"table-line",staticStyle:{width:"95%"},attrs:{data:e.buildingRecordList,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"",label:"",width:"50",type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"index",label:"序号",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"building_name",label:"楼宇名称",width:"280",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_name",label:"渠道",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creator_id",label:"创建人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"org_name",label:"分公司",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rate_status",label:"初评状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"building_status",label:"楼宇状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isShowUpdate?a("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer"},attrs:{size:"medium",title:"修改"},on:{click:function(a){e.edit(t.row)}}}):e._e(),e._v(" "),e.isShowView?a("i",{staticClass:"el-icon-view",staticStyle:{cursor:"pointer"},attrs:{size:"medium",title:"查看"},on:{click:function(a){e.detail(t.row)}}}):e._e(),e._v(" "),e.isShowEvaluate?a("i",{staticClass:"el-icon-check",staticStyle:{cursor:"pointer"},attrs:{size:"medium",title:"初评"},on:{click:function(a){e.evaluate(t.row)}}}):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"批量转移",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"新负责人："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newCreator,callback:function(t){e.newCreator=t},expression:"newCreator"}},e._l(e.newCreatorList,function(e,t){return a("el-option",{key:t,attrs:{label:e.username,value:e.userid}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.transmitAction}},[e._v("确 定")])],1)],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.listCount,"page-size":e.pageSize},on:{"current-change":e.changePageData}})],1)],1)},staticRenderFns:[]};var _=a("C7Lr")(v,C,!1,function(e){a("rccu")},"data-v-9affc1ae",null).exports,S={data:function(){return{submitFormUrl:"/building-record/update-contact-info",buildRecordId:"",pointId:"",form:{contactName:"",contactTel:""},rules:{contactTel:[{validator:function(e,t,a){if(""==t)return a();/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(t)||/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(t)?a():a(new Error("号码格式不正确"))}}]}}},mounted:function(){this.init()},methods:{init:function(){var e=this;window.parent.onscroll=function(t){e.scrollMsg()},this.buildRecordId=this.$route.query.id,this.pointId=this.$route.query.pointId},alertMsg:function(e,t){this.scrollMsg();var a=t||"error";this.$message({message:e,duration:3600,type:a})},scrollMsg:function(){if(self!=top){var e=window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50,t=document.getElementsByClassName("el-message")[0];t&&(t.style.cssText="top: "+e+"px;z-index:1000;")}},submitForm:function(e){var t=this;this.$refs[e].validate(function(e,a){e&&t.submitAction()})},submitAction:function(){var e=this,t={contactName:this.form.contactName,contactTel:this.form.contactTel,id:this.buildRecordId};m.a.post(this.submitFormUrl,t,{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"}).then(function(t){var a=t.data;console.log("data",a),0==a.error_code?(e.alertMsg("修改成功","success"),e.$router.push({name:"pointDetail",query:{pointId:e.pointId}})):e.alertMsg("修改失败","error")}).catch(function(t){e.alertMsg(t)})}},components:{}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-body"},[a("div",{staticClass:"line-title"},[e._v("编辑信息")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"联系人："}},[a("el-input",{model:{value:e.form.contactName,callback:function(t){e.$set(e.form,"contactName",t)},expression:"form.contactName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"联系方式：",prop:"contactTel",id:"contactTel"}},[a("el-input",{model:{value:e.form.contactTel,callback:function(t){e.$set(e.form,"contactTel",t)},expression:"form.contactTel"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"div-submit",attrs:{size:"medium"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("修改")])],1)],1)],1)},staticRenderFns:[]};var T=a("C7Lr")(S,I,!1,function(e){a("Aesl")},"data-v-c608fe68",null).exports;r.a.use(c.a);var L=new c.a({routes:[{path:"/",redirect:"/list"},{path:"/build",name:"buildRecord",component:p},{path:"/detail",name:"buildDetail",component:g},{path:"/list",name:"buildList",component:_},{path:"/contact",name:"modifyContact",component:T}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:L,components:{App:l},template:"<App/>"})},"bR+S":function(e,t){},ecoL:function(e,t){},lRwf:function(e,t){e.exports=Vue},rccu:function(e,t){},yiNV:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.4e6e724e516e20086538.js.map