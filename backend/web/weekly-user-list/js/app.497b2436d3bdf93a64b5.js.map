{"version":3,"sources":["webpack:///./src/App.vue?89b7","webpack:///./src/App.vue","webpack:///src/components/page/WeeklyUserList.vue","webpack:///./src/components/page/WeeklyUserList.vue?50b6","webpack:///./src/components/page/WeeklyUserList.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","chartsColorArr","chartsColorArr2","WeeklyUserList","data","listUrl","getWeeklyUserListUrl","rootCoffeeStieUrl","weeklyUserListData","labelPosition","form","searchDate","searchDatePickerOption","disabledDate","time","getTime","Date","now","exportDate","exportUrl","showDateSearch","filters","formatDate","val","String","substr","computed","mounted","init","methods","_this","rootLogin","window","parent","onscroll","e","scrollMsg","getWeeklyUserList","trimPercent","charAt","length","Number","exportExcel","goBack","clearCharts","initCharts","date","_this2","url","_axios_0_18_0_axios_default","a","get","then","response","code","alertMsg","setTimeout","catch","error","chartUsersGrowth","chartNewUsersTotal","chartNewRegisteredUser","chartActiveUser","chartPayFreeActiveUser","myChart","echarts","document","getElementById","clear","category","tmpData","i","len","push","weekly_number","guest_user","registered_user","users_total","option","title","text","textStyle","fontSize","tooltip","legend","calculable","yAxis","type","xAxis","series","name","stack","barMaxWidth","itemStyle","normal","label","show","position","setOption","initSingleChart","initDoubleChart","dataName","dateChar","chartId","dataVal","titleName","dataValTmp","max","reduce","b","color","backgroundColor","params","value","Math","index","floor","dataVal1","dataVal2","legendName1","legendName2","msg","msgType","$message","message","duration","self","top","scrollTop","documentElement","body","mycss","getElementsByClassName","style","cssText","components","page_WeeklyUserList","_vm","staticClass","ref","label-position","model","size","label-width","gutter","staticStyle","width","span","prop","range-separator","start-placeholder","end-placeholder","format","value-format","picker-options","callback","$$v","$set","expression","_e","_v","plain","on","click","href","border","_m","components_page_WeeklyUserList","WeeklyUserList_normalizeComponent","ssrContext","vue_esm","use","vue_router_esm","router","routes","path","redirect","component","element_ui_common_default","config","productionTip","el","template"],"mappings":"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","file":"weekly-user-list/js/app.497b2436d3bdf93a64b5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-72f6607d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72f6607d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"content-body\">\n    <el-form :label-position=\"labelPosition\" ref=\"form\" :model=\"form\" size=\"small\" label-width=\"120px\" v-if=\"showDateSearch!='0'\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\" style=\"width:500px\" v-if=\"showDateSearch!='1'\">\n          <el-form-item label=\"选择检索日期\" prop=\"sendTime\">\n              <el-date-picker type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\"  end-placeholder=\"结束日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" v-model=\"form.searchDate\" :picker-options=\"searchDatePickerOption\">\n              </el-date-picker>\n            </el-form-item>\n        </el-col>\n        <el-col :span=\"5\" v-if=\"showDateSearch!='1'\">\n          <el-button type=\"primary\" plain @click=\"searchDate\">检索</el-button>\n        </el-col>\n        <el-col :span=\"5\">\n          <a :href=\"exportUrl+exportDate\" v-if=\"showDateSearch!='2'\"><el-button type=\"primary\" plain>导出</el-button></a>\n        </el-col>\n      </el-row>\n    </el-form>\n    <el-table :data=\"weeklyUserListData\" border class=\"el-table-common\">\n      <el-table-column prop=\"year\" label=\"年份\">\n      </el-table-column>\n      <el-table-column prop=\"cycle_str\" label=\"日期\">\n      </el-table-column>\n      <el-table-column prop=\"weekly_number\" label=\"周次\">\n      </el-table-column>\n      <el-table-column prop=\"users_total\" label=\"总用户数\">\n      </el-table-column>\n      <el-table-column prop=\"new_users_total\" label=\"新增用户\">\n      </el-table-column>\n      <el-table-column prop=\"new_users_growth\" label=\"用户增长率\">\n      </el-table-column>\n      <el-table-column prop=\"registered_user\" label=\"注册用户\">\n      </el-table-column>\n      <el-table-column prop=\"new_registered_user\" label=\"新增注册用户\">\n      </el-table-column>\n      <el-table-column prop=\"new_registered_growth\" label=\"注册用户增长率\">\n      </el-table-column>\n      <el-table-column prop=\"guest_user\" label=\"非注册用户\">\n      </el-table-column>\n      <el-table-column prop=\"active_user\" label=\"活跃人数\">\n      </el-table-column>\n      <el-table-column prop=\"active_user_growth\" label=\"活跃增长率\">\n      </el-table-column>\n      <el-table-column prop=\"pay_active_user\" label=\"付费活跃用户\">\n      </el-table-column>\n      <el-table-column prop=\"pay_user_growth\" label=\"付费活跃增长率\">\n      </el-table-column>\n      <el-table-column prop=\"free_active_user\" label=\"免费活跃人数\">\n      </el-table-column>\n    </el-table>\n    <div>\n      <!-- <div class=\"sub-title\" style=\"margin-bottom:20px;\">周报用户数据图表</div> -->\n      <!-- 用户增长 -->\n      <div id=\"usersGrowth\" class=\"charts\"></div>\n      <!-- 新增用户 -->\n      <div id=\"newUsersTotal\" class=\"charts\"></div>\n      <!-- 新增注册用户 -->\n      <div id=\"newRegisteredUser\" class=\"charts\"></div>\n      <!-- 活跃用户数 -->\n      <div id=\"activeUser\" class=\"charts\"></div>\n      <!-- 付费、免费活跃用户数-->\n      <div id=\"payFreeActiveUser\" class=\"charts\"></div>\n    </div>\n  </div>\n</template>\n<script>\n/* eslint-disable */\nimport axios  from  'axios'\nconst chartsColorArr = ['#328e55', '#d66e49', '#be384b','#a7aa9d', '#354b5e'];\nconst chartsColorArr2 = ['#54c7f1','#3ab2de', '#289eca','#198db8','#0a7da7','#016b93'];\nexport default {\n  data() {\n    return {\n      listUrl:'',\n      getWeeklyUserListUrl: rootCoffeeStieUrl+'weekly-report-api/weekly-user-list.html',\n      weeklyUserListData: [],\n      labelPosition: 'right',\n      form: {\n        searchDate: ''\n      },\n      searchDatePickerOption: {\n        disabledDate(time){\n          return time.getTime() > Date.now();\n        }\n      },\n      exportDate:'',\n      exportUrl:'/weekly-user/export?',\n      showDateSearch: ''\n    }\n  },\n  filters: {\n    formatDate: function(val) {\n      return String(val).substr(0,10);\n    }\n  },\n  computed: {\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    init() {\n      this.showDateSearch = String(rootLogin);\n      window.parent.onscroll = (e)=>{\n        this.scrollMsg();\n      }\n      this.getWeeklyUserList();\n    },\n    trimPercent(val) {\n      // console.log(String(val).charAt(String(val).length-1));\n      let lastChar = String(val).charAt(String(val).length-1);\n      if(lastChar==\"%\") {\n        return Number(String(val).substr(0,String(val).length-1));\n      } else {\n        return Number(val);\n      }\n    },\n    searchDate() {\n      this.getWeeklyUserList(this.form.searchDate);\n    },\n    exportExcel() {\n      //\n    },\n    goBack() {\n      // window.location.href = this.listUrl;\n    },\n    clearCharts(){\n      this.weeklyUserListData = [];\n      this.initCharts();\n    },\n    getWeeklyUserList(date) {\n      const url = date?this.getWeeklyUserListUrl+\"?start=\"+date[0]+\"&end=\"+date[1]:this.getWeeklyUserListUrl;\n      this.exportDate = date?\"start=\"+date[0]+\"&end=\"+date[1]:\"\";\n      // console.log(\"url.....\",url);\n      axios.get(url)\n      .then((response)=> {\n        // console.log(response.data)\n        if(response.data && response.data.code==\"200\"){\n          if(response.data.data.length==0){\n            this.alertMsg(\"没有数据，请选择其他日期\");\n          }\n          this.weeklyUserListData = [];\n          window.setTimeout(()=>{\n            this.weeklyUserListData = response.data.data;\n            this.initCharts();\n          },300);\n        } else {\n          this.clearCharts();\n          this.alertMsg('获取周报用户数据错误');\n        }\n      })\n      .catch((error)=> {\n        this.clearCharts();\n        this.alertMsg('周报用户接口错误');\n      });\n    },\n    initCharts() {\n      this.chartUsersGrowth();\n      this.chartNewUsersTotal();\n      this.chartNewRegisteredUser();\n      this.chartActiveUser();\n      this.chartPayFreeActiveUser();\n    },\n    // 用户增长\n    chartUsersGrowth() {\n      const myChart = echarts.init(document.getElementById(\"usersGrowth\"));\n      myChart.clear();\n      var category=[];\n      var data=[[],[],[]];\n      const tmpData = this.weeklyUserListData;\n      for(let i=0,len=tmpData.length;i<len;i++){\n        category.push(tmpData[i].weekly_number);\n        data[0].push(tmpData[i].guest_user);\n        data[1].push(tmpData[i].registered_user);\n        data[2].push(tmpData[i].users_total);\n      }\n      const option = {\n        title: {\n            text: \"用户增长\",\n            textStyle: {fontSize:16}\n        },\n        tooltip : {},\n        legend: {\n            data:['非注册用户','注册用户','总用户数']\n        },\n        calculable : true,\n        yAxis : [\n            {\n                type : 'value'\n            }\n        ],\n        xAxis : [\n            {\n                type : 'category',\n                data : category\n            }\n        ],\n        series : [\n            {\n                name:'非注册用户',\n                type:'bar',\n                stack: '总量',\n                barMaxWidth:20,\n                itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},\n                data:data[0]\n            },\n            {\n                name:'注册用户',\n                type:'bar',\n                stack: '总量',\n                barMaxWidth:20,\n                itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},\n                data:data[1]\n            },\n            {\n                name: \"总用户数\",\n                type: 'bar',\n                barMaxWidth:20,\n                itemStyle : { normal: {label : {show: true}}},\n                data: data[2]\n            }\n        ]\n      };\n      myChart.setOption(option);\n    },\n    // 新增用户\n    chartNewUsersTotal() {\n      this.initSingleChart('weeklyUserListData','weekly_number','newUsersTotal','new_users_total','新增用户');\n    },\n    // 新增注册用户\n    chartNewRegisteredUser() {\n      this.initSingleChart('weeklyUserListData','weekly_number','newRegisteredUser','new_registered_user','新增注册用户');\n    },\n    // 活跃用户数\n    chartActiveUser() {\n      this.initSingleChart('weeklyUserListData','weekly_number','activeUser','active_user','活跃用户数');\n    },\n    // 付费、免费活跃用户数\n    chartPayFreeActiveUser() {\n      this.initDoubleChart('weeklyUserListData','weekly_number','payFreeActiveUser','pay_active_user','free_active_user','付费、免费活跃人数','付费活跃人数','免费活跃人数');\n    },\n    initSingleChart(dataName,dateChar,chartId,dataVal,titleName){\n      const myChart = echarts.init(document.getElementById(chartId));\n      myChart.clear();\n      let category=[];\n      let data=[];\n      const tmpData = this[dataName];\n      for(let i=0,len=tmpData.length;i<len;i++){\n        category.push(tmpData[i][dateChar]);\n        let dataValTmp = this.trimPercent(tmpData[i][dataVal]);\n        data.push(dataValTmp);\n      }\n      let max = data.length>0?data.reduce((a,b)=>a>b?a:b):0;\n      // console.log(max)\n      // 指定图表的配置项和数据\n      const option = {\n          color: chartsColorArr2,\n          backgroundColor: '#fff',\n          title: {\n              text: titleName,\n              textStyle: {fontSize:16}\n          },\n          tooltip: {},\n          legend: {\n              data:[titleName]\n          },\n          xAxis: {\n              data: category\n          },\n          yAxis: {},\n          series: [{\n              name: titleName,\n              type: 'bar',\n              barMaxWidth:30,\n              data: data,\n              itemStyle: {\n                normal: {\n                  label : {show: true},\n                  color:function(params) {\n                    let newColor = \"\";\n                    let value = Number(params.value);\n                    value = Math.max(0,value);\n                    let index = max>0?Math.floor(value*5/max):0;\n                    newColor = chartsColorArr2[index];\n                    return newColor;\n                  }\n                }\n              }\n          }]\n      };\n      // 使用刚指定的配置项和数据显示图表。\n      myChart.setOption(option);\n    },\n    initDoubleChart(dataName,dateChar,chartId,dataVal1,dataVal2,titleName,legendName1,legendName2){\n      const myChart = echarts.init(document.getElementById(chartId));\n      myChart.clear();\n      var category=[];\n      var data=[[],[]];\n      const tmpData = this[dataName];\n      for(let i=0,len=tmpData.length;i<len;i++){\n        category.push(tmpData[i][dateChar]);\n        data[0].push(tmpData[i][dataVal1]);\n        data[1].push(tmpData[i][dataVal2]);\n      }\n      // 指定图表的配置项和数据\n      const option = {\n          color: chartsColorArr,\n          backgroundColor: '#fff',\n          title: {\n              text: titleName,\n              textStyle: {fontSize:16}\n          },\n          tooltip: {},\n          legend: {\n              data:[legendName1,legendName2]\n          },\n          xAxis: {\n              data: category\n          },\n          yAxis: {},\n          series: [{\n              name: legendName1,\n              type: 'bar',\n              barMaxWidth:20,\n              data: data[0],\n              itemStyle: {\n                normal: {\n                  label : {show: true}\n                }\n              }\n          },\n          {\n              name: legendName2,\n              type: 'bar',\n              barMaxWidth:20,\n              data: data[1],\n              itemStyle: {\n                normal: {\n                  label : {show: true}\n                }\n              }\n          }]\n      };\n      // 使用刚指定的配置项和数据显示图表。\n      myChart.setOption(option);\n    },\n    alertMsg(msg,type)\n    {\n      // alert(msg);\n      this.scrollMsg();\n      let msgType = type?type:\"error\";\n      this.$message({\n        message: msg,\n        duration:3600,\n        type: msgType\n      });\n    },\n    scrollMsg()\n    {\n      if(self!=top){\n        let scrollTop = window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50;\n        let mycss=document.getElementsByClassName(\"el-message\")[0];\n        if(mycss){\n          mycss.style.cssText=\"top: \"+scrollTop+\"px;z-index:1000;\";\n        }\n      }\n    },\n  },\n  components: {}\n}\n\n</script>\n<style scoped>\n.el-table .cell,th,td {\n  text-align: center;\n}\n.newregister {\n    background-color: #c8fbca;\n}\n.week {\n  min-width: 60px;\n}\n.day {\n  min-width: 95px;\n}\n.charts {\n  width: 1060px;\n  height: 500px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/WeeklyUserList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-body\"},[(_vm.showDateSearch!='0')?_c('el-form',{ref:\"form\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.form,\"size\":\"small\",\"label-width\":\"120px\"}},[_c('el-row',{attrs:{\"gutter\":10}},[(_vm.showDateSearch!='1')?_c('el-col',{staticStyle:{\"width\":\"500px\"},attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"选择检索日期\",\"prop\":\"sendTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.searchDatePickerOption},model:{value:(_vm.form.searchDate),callback:function ($$v) {_vm.$set(_vm.form, \"searchDate\", $$v)},expression:\"form.searchDate\"}})],1)],1):_vm._e(),_vm._v(\" \"),(_vm.showDateSearch!='1')?_c('el-col',{attrs:{\"span\":5}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.searchDate}},[_vm._v(\"检索\")])],1):_vm._e(),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[(_vm.showDateSearch!='2')?_c('a',{attrs:{\"href\":_vm.exportUrl+_vm.exportDate}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"}},[_vm._v(\"导出\")])],1):_vm._e()])],1)],1):_vm._e(),_vm._v(\" \"),_c('el-table',{staticClass:\"el-table-common\",attrs:{\"data\":_vm.weeklyUserListData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"year\",\"label\":\"年份\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cycle_str\",\"label\":\"日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"weekly_number\",\"label\":\"周次\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"users_total\",\"label\":\"总用户数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"new_users_total\",\"label\":\"新增用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"new_users_growth\",\"label\":\"用户增长率\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"registered_user\",\"label\":\"注册用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"new_registered_user\",\"label\":\"新增注册用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"new_registered_growth\",\"label\":\"注册用户增长率\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"guest_user\",\"label\":\"非注册用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"active_user\",\"label\":\"活跃人数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"active_user_growth\",\"label\":\"活跃增长率\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pay_active_user\",\"label\":\"付费活跃用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pay_user_growth\",\"label\":\"付费活跃增长率\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"free_active_user\",\"label\":\"免费活跃人数\"}})],1),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"charts\",attrs:{\"id\":\"usersGrowth\"}}),_vm._v(\" \"),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"newUsersTotal\"}}),_vm._v(\" \"),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"newRegisteredUser\"}}),_vm._v(\" \"),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"activeUser\"}}),_vm._v(\" \"),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"payFreeActiveUser\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6a508942\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/WeeklyUserList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a508942\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./WeeklyUserList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./WeeklyUserList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./WeeklyUserList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a508942\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./WeeklyUserList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a508942\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/WeeklyUserList.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport WeeklyUserList from '@/components/page/WeeklyUserList'\n\nVue.use(Router)\n/* eslint-disable */\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/userlist'\n    },\n    {\n      path: '/userlist',\n      name: 'WeeklyUserList',\n      component: WeeklyUserList\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import './assets/css/main.css'\nimport Vue from 'vue'\nimport Element from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport App from './App'\nimport router from './router'\nVue.use(Element)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}