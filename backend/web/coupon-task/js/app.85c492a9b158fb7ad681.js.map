{"version":3,"sources":["webpack:///src/components/CouponSendTask.vue","webpack:///./src/components/CouponSendTask.vue?59ee","webpack:///./src/components/CouponSendTask.vue","webpack:///./src/router/index.js","webpack:///./src/App.vue?c64c","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/main.js","webpack:///external \"Vue\""],"names":["CouponSendTask","data","params","checkPhoneNum","rule","value","callback","Error","setTimeout","test","myListData","taskId","files","filesBlack","checkStatus","sendTimePickerOption","disabledDate","time","getTime","Date","now","uploadData","dataType","oldFilePath","uploadBlackData","uploadActionUrl","rootCoffeeStieUrl","submitFormUrl","userSelectTaskUrl","checkLegalUrl","getCouponUrl","getCouponIdsUrl","labelPosition","form","taskName","sendTime","couponGroupId","couponType","couponGradient","id","num","userSelectionTask","phoneNumbersTextArea","blacklistphoneNumTextArea","sendTimeFormat","userPhoneForm","importUserPhone","blackPhoneForm","sheildUserPhone","couponGroupOptions","couponGroupIdsOptions","userSelectTaskOptions","phoneListData","blackPhoneListData","uploadTxtCallbackInfo","uploadBlackTxtCallbackInfo","mobileUrl","blackMobileUrl","submitFlag","rules","required","message","trigger","min","max","validator","RegExp","couponIds","userPhoneRules","blackPhoneRules","mounted","this","init","methods","_this2","window","parent","onscroll","e","scrollMsg","rootList","rootTaskId","console","log","task_name","send_time","mobileList","txtUrl","mobile_file_url","urlTxtName","split","pop","blackUrl","black_mobile_file_url","blackTxtName","name","url","i","length","myGuid","guid","phoneNum","push","blackMobileList","_i","_myGuid","_phoneNum","coupon_id_num_map","coupon_group_id","_axios_0_18_0_axios_default","a","get","then","response","key","label","catch","error","alertMsg","_i2","find","item","selection_task_id","addCouponGradient","index","delCouponGradient","splice","submitForm","formName","_this3","$refs","validate","valid","submitFormAction","_this4","postUrl","post","type","location","href","resetForm","resetFields","clearUserPhone","clearBlackPhone","handleExceed","fileList","onRemoveTxt","onRemoveBlack","onBeforeUpload","file","isTXT","isLt1M","size","uploadSuccess","noExistsList","filePath","uploadSuccessBlack","uploadError","deletephoneNumbers","deleteBlackNumbers","addTaskVerifyPhone","_this5","addTaskVerifyPhoneAction","_this6","URLSearchParams","append","addBlackVerifyPhone","_this7","addTaskVerifyBlackPhoneAction","_this8","backToList","msg","msgType","$message","duration","self","top","scrollTop","document","documentElement","body","mycss","getElementsByClassName","style","cssText","replace","c","r","Math","random","toString","components_CouponSendTask","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","label-position","model","label-width","gutter","span","prop","$$v","$set","expression","offset","format","value-format","placeholder","picker-options","clearable","_l","filterable","on","click","$event","_e","icon","_s","action","on-error","on-success","on-remove","before-upload","accept","limit","on-exceed","file-list","slot","staticRenderFns","src_components_CouponSendTask","__webpack_require__","normalizeComponent","ssrContext","Vue","use","Router","router","routes","path","component","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","el","components","App","template","module","exports"],"mappings":"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","file":"coupon-task/js/app.85c492a9b158fb7ad681.js","sourcesContent":["<template>\r\n  <div class=\"content-body\">\r\n    <div class=\"line-title\">发券任务添加</div>\r\n    <el-main>\r\n      <el-form :label-position=\"labelPosition\" ref=\"form\" :model=\"form\" :rules=\"rules\" size=\"small\" label-width=\"120px\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"发券任务名称\" prop=\"taskName\">\r\n              <el-input v-model=\"form.taskName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\" :offset=\"4\">\r\n            <el-form-item label=\"发送时间\" prop=\"sendTime\">\r\n              <el-date-picker v-model=\"form.sendTime\" format=\"yyyy-MM-dd HH:mm:ss\" value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"选择日期时间\" :picker-options=\"sendTimePickerOption\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <div>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"优惠券类型\" prop=\"couponType\">\r\n                <el-select v-model=\"form.couponType\" clearable placeholder=\"请选择\">\r\n                  <el-option label=\"优惠券\" value=\"1\"></el-option>\r\n                  <el-option label=\"优惠券套餐\" value=\"2\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <!-- 优惠券 -->\r\n        <div v-for=\"(item,index) in form.couponGradient\" :key=\"index\"  v-if=\"form.couponType==1\">\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"10\">\r\n                <el-form-item label=\"优惠券\" :prop=\"'couponGradient.' +index +'.id'\" :rules=\"couponIds\" id=\"couponIds\">\r\n                  <el-select v-model=\"item.id\" clearable filterable placeholder=\"请选择\">\r\n                    <el-option v-for=\"item in couponGroupIdsOptions\"\r\n                      :label=\"item.label\"\r\n                      :value=\"item.value\"\r\n                      :key=\"item.value\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"数量：\">\r\n                  <el-input type=\"number\" min=1 value=\"1\" v-model=\"item.num\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <i class=\"el-icon-remove-outline iconButton\" @click=\"delCouponGradient(index)\" v-if=\"index!=0\"></i>\r\n                <i class=\"el-icon-circle-plus-outline iconButton\" @click=\"addCouponGradient\" v-if=\"index==0\"></i>\r\n              </el-col>\r\n             </el-row>\r\n          </div>\r\n        <!-- 优惠券套餐 -->\r\n        <el-row :gutter=\"10\" v-if=\"form.couponType==2\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"优惠券套餐\" prop=\"couponGroupId\">\r\n              <el-select v-model=\"form.couponGroupId\" clearable  filterable placeholder=\"请选择\">\r\n                <el-option v-for=\"item in couponGroupOptions\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                  :key=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"用户筛选任务\" prop=\"userSelectionTask\">\r\n              <el-select v-model=\"form.userSelectionTask\" clearable filterable placeholder=\"请选择\">\r\n                <el-option v-for=\"item in userSelectTaskOptions\" :label=\"item.label\" :value=\"item.value\" :key=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"16\">\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"14\">\r\n                <el-form :label-position=\"labelPosition\" ref=\"formUserPhone\" :model=\"userPhoneForm\" :rules=\"userPhoneRules\" size=\"small\" label-width=\"120px\">\r\n                  <el-form-item prop=\"importUserPhone\" label=\"手机号\">\r\n                    <el-input v-model=\"userPhoneForm.importUserPhone\" type=\"number\"></el-input>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </el-col>\r\n              <el-col :span=\"10\">\r\n                <el-button icon=\"el-icon-circle-plus-outline\" @click=\"addTaskVerifyPhone\">加入</el-button>\r\n                <el-button icon=\"el-icon-delete\" @click=\"clearUserPhone\">清空</el-button>\r\n              </el-col>\r\n            </el-row>\r\n            <!-- 手机号列表 -->\r\n            <el-row>\r\n              <el-col :span=\"20\" :offset=\"4\">\r\n                <div class=\"phoneNameBox\">\r\n                  <el-row  v-for=\"(item,index) in form.phoneNumbersTextArea\" :key=\"item.guid\" class=\"phoneNameText\">\r\n                    <el-col :span=\"20\">\r\n                       <span>{{item.data}}</span>\r\n                    </el-col>\r\n                    <el-col :span=\"4\">\r\n                      <i class=\"el-icon-delete\" @click=\"deletephoneNumbers(index)\"></i>\r\n                    </el-col>\r\n                  </el-row>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </el-col>\r\n          <el-col :span=\"6\" :offset=\"1\">\r\n            <el-upload\r\n              name=\"uploadPhoneTxt\"\r\n              :action=\"uploadActionUrl\"\r\n              :data=\"uploadData\"\r\n              :on-error=\"uploadError\"\r\n              :on-success=\"uploadSuccess\"\r\n              :on-remove=\"onRemoveTxt\"\r\n              :before-upload=\"onBeforeUpload\"\r\n              accept=\"text/plain\"\r\n              :limit=\"1\"\r\n              :on-exceed=\"handleExceed\"\r\n              :file-list=\"files\">\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n              <div slot=\"tip\" class=\"el-upload__tip\">请上传txt格式文件，手机号码以空格或回车符或逗号\",\"分隔</div>\r\n            </el-upload>\r\n            <div class=\"uploadTxtCallback\">{{ uploadTxtCallbackInfo }}</div>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"16\">\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"14\">\r\n                <el-form :label-position=\"labelPosition\" ref=\"formBlackPhone\" :model=\"blackPhoneForm\" :rules=\"blackPhoneRules\" size=\"small\" label-width=\"120px\">\r\n                  <el-form-item prop=\"sheildUserPhone\" label=\"黑名单\">\r\n                    <el-input v-model=\"blackPhoneForm.sheildUserPhone\" type=\"number\"></el-input>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </el-col>\r\n              <el-col :span=\"10\">\r\n                <el-button icon=\"el-icon-circle-plus-outline\" @click=\"addBlackVerifyPhone\">加入</el-button>\r\n                <el-button icon=\"el-icon-delete\" @click=\"clearBlackPhone\">清空</el-button>\r\n              </el-col>\r\n            </el-row>\r\n            <!-- 手机号列表 -->\r\n            <el-row>\r\n              <el-col :span=\"20\" :offset=\"4\">\r\n                <div class=\"phoneNameBox\">\r\n                  <el-row  v-for=\"(item,index) in form.blacklistphoneNumTextArea\" :key=\"item.guid\" class=\"phoneNameText\">\r\n                    <el-col :span=\"20\">\r\n                       <span>{{item.data}}</span>\r\n                    </el-col>\r\n                    <el-col :span=\"4\">\r\n                      <i class=\"el-icon-delete\" @click=\"deleteBlackNumbers(index)\"></i>\r\n                    </el-col>\r\n                  </el-row>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </el-col>\r\n          <el-col :span=\"6\" :offset=\"1\">\r\n            <el-upload\r\n              name=\"uploadBlackTxt\"\r\n              :action=\"uploadActionUrl\"\r\n              :data=\"uploadBlackData\"\r\n              :on-error=\"uploadError\"\r\n              :on-success=\"uploadSuccessBlack\"\r\n              :before-upload=\"onBeforeUpload\"\r\n              :on-remove=\"onRemoveBlack\"\r\n              accept=\"text/plain\"\r\n              :limit=\"1\"\r\n              :on-exceed=\"handleExceed\"\r\n              :file-list=\"filesBlack\">\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n              <div slot=\"tip\" class=\"el-upload__tip\">请上传txt格式文件，手机号码以空格或回车符或逗号\",\"分隔</div>\r\n            </el-upload>\r\n            <div class=\"uploadTxtCallback\">{{ uploadBlackTxtCallbackInfo }}</div>\r\n          </el-col>\r\n        </el-row>\r\n        <el-form-item size=\"medium\" class=\"div_center\">\r\n          <el-button @click=\"backToList\">取消任务</el-button>\r\n          <!-- <el-button @click=\"resetForm('form')\">重置表单</el-button> -->\r\n          <el-button type=\"primary\"  @click=\"submitForm('form')\">提交任务</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-main>\r\n  </div>\r\n</template>\r\n<script>\r\n/* eslint-disable */\r\nimport axios from 'axios'\r\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\nexport default {\r\n  data (params) {\r\n    var checkPhoneNum = (rule,value,callback) => {\r\n      if (!value) {\r\n        return callback(new Error('手机号码不能为空'));\r\n      }\r\n      setTimeout(() => {\r\n        let myreg=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;\r\n        if (!myreg.test(value)) {\r\n          callback(new Error('手机号格式不对'));\r\n        } else {\r\n          callback();\r\n        }\r\n      }, 200);\r\n    };\r\n    var checkUnregularChar = (rule,value,callback) => {\r\n      setTimeout(() => {\r\n        let pattern = new RegExp(\"[`~!@#$^&*()=|{}':;',\\\\[\\\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]\");\r\n        if (pattern.test(value)) {\r\n          callback(new Error('不能有特殊字符'));\r\n        } else {\r\n          callback();\r\n        }\r\n      }, 200);\r\n    };\r\n    return {\r\n      myListData: {},\r\n      taskId:\"\",//任务id 有则修改 无则添加\r\n      files: [],\r\n      filesBlack: [],\r\n      checkStatus: 0,\r\n      sendTimePickerOption: {//设置选取日期时间规则\r\n        disabledDate(time){\r\n          return time.getTime() < (Date.now()-3600*1000*24);\r\n        }\r\n      },\r\n      uploadData: {// 上传手机号txt文件参数，oldFilePath编辑时页面获取，提交时带上参数\r\n        dataType: \"0\",\r\n        oldFilePath:\"\"\r\n      },\r\n      uploadBlackData: {// 上传黑名单txt文件参数，oldFilePath编辑时页面获取，提交时带上参数\r\n        dataType: \"0\",\r\n        oldFilePath:\"\"\r\n      },\r\n      uploadActionUrl: rootCoffeeStieUrl+\"task-api/verify-file.html\",// 上传txt文件接口\r\n      submitFormUrl: rootCoffeeStieUrl+\"task-api/coupon-send-task-create.html\",//提交任务接口\r\n      userSelectTaskUrl: rootCoffeeStieUrl+\"task-api/get-selection-task-id-to-name-new-list.html\",//获取用户筛选任务列表接口\r\n      checkLegalUrl: '/user-selection-task/check-legal',// 验证手机号接口\r\n      getCouponUrl:\"/coupon-send-task/get-valid-coupon-group\",// 获取优惠券套餐列表接口\r\n      getCouponIdsUrl:\"/coupon-send-task/get-valid-coupon\",// 获取优惠券列表接口\r\n      labelPosition: 'right',\r\n      form: {\r\n        taskName: '',// 任务名称\r\n        sendTime: '',// 发送时间 new Date('2018-03-01 15:06:00')\r\n        couponGroupId: '',// 优惠券套餐值下拉框\r\n        couponType:\"\",//优惠券类型 0优惠券 1优惠券套餐\r\n        couponGradient:[{id:\"\",num:\"1\"}],\r\n        userSelectionTask: '',// 用户筛选任务 下拉框\r\n        phoneNumbersTextArea: [],// 手机号列表文本框\r\n        blacklistphoneNumTextArea: [],// 黑名单列表文本框\r\n      },\r\n      sendTimeFormat: '',//提交发送时间格式\r\n      userPhoneForm: {\r\n        importUserPhone: '',// 手机号\r\n      },\r\n      blackPhoneForm: {\r\n        sheildUserPhone: ''// 黑名单手机号\r\n      },\r\n      couponGroupOptions: [],// 套餐 {value:\"\",label:\"请选择\"}\r\n      couponGroupIdsOptions:[],//优惠券\r\n      userSelectTaskOptions: [],// 用户筛选任务\r\n      phoneListData: [],// 添加手机号列表 数组\r\n      blackPhoneListData: [],// 黑名单手机号列表 数组\r\n      uploadTxtCallbackInfo: '',// 上传手机列表返回提示信息\r\n      uploadBlackTxtCallbackInfo: '',// 上传黑名单列表返回提示信息\r\n      mobileUrl: '',\r\n      blackMobileUrl: '',\r\n      submitFlag:true,\r\n      rules: {\r\n        taskName: [\r\n          { required: true, message: '请输入发券任务名称', trigger: 'blur' },\r\n          { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' },\r\n          { validator: checkUnregularChar, trigger: 'blur' }\r\n        ],\r\n        sendTime: [\r\n          { required: true, message: '请选择日期', trigger: 'change' }\r\n        ],\r\n        couponGroupId: [\r\n          { required: true, message: '请选择优惠券套餐', trigger: 'blur' }\r\n        ],\r\n        couponType:[\r\n          { required: true, message: '请选择优惠券类型', trigger: 'blur' }\r\n        ],\r\n        /*userSelectionTask: [\r\n          { required: true, message: '请选择用户筛选任务', trigger: 'change' }\r\n        ]*/\r\n      },\r\n      couponIds:[{ required: true, message: '请选择优惠券', trigger: 'change' }],\r\n      userPhoneRules: {\r\n        importUserPhone: [\r\n          { validator: checkPhoneNum, trigger: 'click' }\r\n        ]\r\n      },\r\n      blackPhoneRules: {\r\n        sheildUserPhone: [\r\n          { validator: checkPhoneNum, trigger: 'click' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted()\r\n  {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init()\r\n    {\r\n      window.parent.onscroll = (e)=>{\r\n        this.scrollMsg();\r\n      }\r\n      this.myListData = rootList||{};\r\n      this.taskId = rootTaskId||\"\";\r\n      // 如果任务id不为空则进入编辑状态\r\n      console.log(\"myListData..\",this.myListData);\r\n      if(this.taskId!=\"\"){\r\n        this.form.taskName = this.myListData.task_name;\r\n        this.form.sendTime = this.myListData.send_time;\r\n        this.phoneListData = this.myListData.mobileList;\r\n        let txtUrl = this.myListData.mobile_file_url||\"\";\r\n        let urlTxtName = txtUrl!=\"\"?txtUrl.split(\"/\").pop():\"\";\r\n        let blackUrl = this.myListData.black_mobile_file_url||\"\";\r\n        let blackTxtName = blackUrl!=\"\"?blackUrl.split(\"/\").pop():\"\";\r\n        if(txtUrl!=\"\") this.files = [{name:urlTxtName,url:rootCoffeeStieUrl+txtUrl}];\r\n        if(blackUrl!=\"\") this.filesBlack = [{name:blackTxtName,url:rootCoffeeStieUrl+blackUrl}];\r\n        for(let i=0;i<this.phoneListData.length;i++){\r\n          let myGuid = this.guid();\r\n          let phoneNum = this.phoneListData[i];\r\n          this.form.phoneNumbersTextArea.push({data:phoneNum,guid:myGuid});\r\n        }\r\n        this.blackPhoneListData = this.myListData.blackMobileList;\r\n        for(let i=0;i<this.blackPhoneListData.length;i++){\r\n          let myGuid = this.guid();\r\n          let phoneNum = this.blackPhoneListData[i];\r\n          this.form.blacklistphoneNumTextArea.push({data:phoneNum,guid:myGuid});\r\n        }\r\n        this.uploadData.oldFilePath = txtUrl;\r\n        this.uploadBlackData.oldFilePath = blackUrl;\r\n        this.mobileUrl = txtUrl;\r\n        this.blackMobileUrl = blackUrl;\r\n        //优惠券类型\r\n        if(this.myListData.coupon_id_num_map.length==0&&this.myListData.coupon_group_id!=\"\"){\r\n          console.log(\"编辑时类型为优惠券套餐\");\r\n          this.form.couponType=\"2\";\r\n          this.form.couponGroupId=this.myListData.coupon_group_id;\r\n        }else{\r\n          console.log(\"编辑时类型为优惠券\");\r\n          this.form.couponType=\"1\";\r\n          this.form.couponGradient=this.myListData.coupon_id_num_map;\r\n        }\r\n\r\n      }\r\n      //获取优惠券套餐数据\r\n      axios.get(this.getCouponUrl).then((response)=> {\r\n        const data = response.data;\r\n        for(var key in data){\r\n          if(!key==\"\") {\r\n            this.couponGroupOptions.push({value:key,label:data[key]});\r\n          }\r\n        }\r\n        // if(this.taskId!=\"\"){\r\n        //   if(this.couponGroupOptions.find((item)=>{\r\n        //     return item.value == this.myListData.coupon_group_id;\r\n        //   })){\r\n        //     this.form.couponGroupId = this.myListData.coupon_group_id;\r\n        //   }\r\n        // }\r\n      }).catch((error)=> {\r\n        this.alertMsg(error);\r\n      });\r\n      //获取优惠券数据\r\n      axios.get(this.getCouponIdsUrl).then((response)=> {\r\n        const data = response.data;\r\n        for(var key in data){\r\n          if(!key==\"\") {\r\n            this.couponGroupIdsOptions.push({value:key,label:data[key]});\r\n          }\r\n        }\r\n      }).catch((error)=> {\r\n        this.alertMsg(error);\r\n      });\r\n      // 获取用户筛选任务列表\r\n      axios.get(this.userSelectTaskUrl).then((response)=> {\r\n        const data = response.data;\r\n        // console.log(\"userSelectTaskOptions data..\",data);\r\n        /*for(var key in data){\r\n          // console.log(\"userSelectTaskOptions..\",key,\"...\",data[key]);\r\n          if(!key==\"\") {\r\n            this.userSelectTaskOptions.push({value:key,label:data[key]});\r\n          }\r\n        }*/\r\n        for(let i=0;i<data.length;i++){\r\n          if(data[i].id!=\"\"){\r\n            this.userSelectTaskOptions.push({value:data[i].id,label:data[i].name});\r\n          }\r\n        }\r\n        if(this.taskId!=\"\"){\r\n          if(this.userSelectTaskOptions.find((item)=>{\r\n            return item.value == this.myListData.selection_task_id;\r\n          })){\r\n            this.form.userSelectionTask = this.myListData.selection_task_id;\r\n          }\r\n        }\r\n      }).catch((error)=> {\r\n        this.alertMsg(error);\r\n      });\r\n    },\r\n    //添加优惠券梯度\r\n    addCouponGradient(index){\r\n      console.log(999)\r\n      this.form.couponGradient.push({id:\"\",num:\"1\"});\r\n      console.log(this.form.couponGradient)\r\n    },\r\n    //删除优惠券梯度\r\n    delCouponGradient(index){\r\n      this.form.couponGradient.splice(index,1)\r\n    },\r\n    submitForm(formName)// 提交任务\r\n    {\r\n      console.log(\"时间日期###..\"+this.form.sendTime+\"***\");\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if(this.form.sendTime < (Date.now()+60*1000*3)){\r\n            this.alertMsg(\"发送时间不能早于当前时间\");\r\n          } else {\r\n            if(this.phoneListData.length>0 || this.form.userSelectionTask!=\"\" || this.mobileUrl!=\"\"){\r\n              this.submitFormAction();\r\n            } else {\r\n              this.alertMsg(\"用户筛选任务或手机号，至少需要有其中一项才可以提交任务\");\r\n            }\r\n          }\r\n        } else {\r\n          // console.log(\"couponGroupId..\"+this.form.couponGroupId);\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    submitFormAction()// 提交任务接口\r\n    {\r\n      if(!this.submitFlag) return false;\r\n      this.submitFlag = false;\r\n      if(this.form.couponType==2){\r\n        this.form.couponGradient=[{id:\"\",num:\"1\"}]//选择优惠券套餐类型，则将优惠券置空\r\n      }else{\r\n        this.form.couponGroupId=\"\";//选择优惠券类型，则将套餐置空\r\n      }\r\n      console.log(\"id\",this.form.couponGradient)\r\n      var postUrl = this.submitFormUrl;\r\n      var params={\r\n        id:this.taskId,\r\n        task_name:this.form.taskName,\r\n        selection_task_id:this.form.userSelectionTask,\r\n        coupon_group_id:this.form.couponGroupId,\r\n        coupon_id_num_map:this.form.couponGradient,\r\n        send_time:this.form.sendTime,\r\n        mobileList:this.phoneListData,\r\n        blackMobileList:this.blackPhoneListData,\r\n        mobileUrl:this.mobileUrl,\r\n        blackMobileUrl:this.blackMobileUrl\r\n      }\r\n      console.log(\"传到后台参数\",params)\r\n      axios.post(postUrl,params).then((response)=> {\r\n        var data = response.data;\r\n        console.log('data..'+data);\r\n        if(data==0){\r\n          this.alertMsg(\"提交失败\");\r\n          this.submitFlag = true;\r\n        } else {\r\n          const type = this.taskId==\"\"?\"1\":\"2\";\r\n          return axios.get('/activity-combin-package-assoc/create-activity-log?type='+type+'&moduleType=4');\r\n        }\r\n      })\r\n      .then((response)=> {\r\n        this.alertMsg(\"发券任务提交成功！\",\"success\");\r\n        window.setTimeout(function(){\r\n          window.location.href = \"/index.php/coupon-send-task/index\";\r\n        },1000);\r\n      })\r\n      .catch((error)=> {\r\n        this.alertMsg(error);\r\n        this.submitFlag = true;\r\n      });\r\n    },\r\n    resetForm(formName)// 重置表单\r\n    {\r\n      this.$refs[formName].resetFields();\r\n      this.clearUserPhone();\r\n      this.clearBlackPhone();\r\n    },\r\n    handleExceed(files, fileList)\r\n    {\r\n      this.alertMsg('请删除当前文件后再上传新的文件','warning');\r\n    },\r\n    onRemoveTxt(files, fileList)\r\n    {\r\n      console.log(\"remove txt\");\r\n      this.uploadData.oldFilePath = \"\";\r\n      this.mobileUrl = \"\";\r\n      this.uploadTxtCallbackInfo = \"\";\r\n    },\r\n    onRemoveBlack(files, fileList)\r\n    {\r\n      console.log(\"remove black\");\r\n      this.uploadBlackData.oldFilePath = \"\";\r\n      this.blackMobileUrl = \"\";\r\n      this.uploadBlackTxtCallbackInfo = \"\";\r\n    },\r\n    onBeforeUpload(file)\r\n    {\r\n      console.log(\"before\");\r\n      const isTXT = file.type === 'text/plain';\r\n      const isLt1M = file.size / 1024 / 1024 < 1;\r\n\r\n      if (!isTXT) {\r\n        this.alertMsg('上传文件只能是txt格式!');\r\n      }\r\n      if (!isLt1M) {\r\n        this.alertMsg('上传文件大小不能超过 1MB!');\r\n      }\r\n      return isTXT && isLt1M;\r\n    },\r\n    uploadSuccess (response, file, fileList)// 上传手机号成功后的回调\r\n    {\r\n      // console.log('response..', response);\r\n      var data = response.data||{};\r\n      // console.log('response.data..', response.data);\r\n      var noExistsList = data.noExistsList||\"\";\r\n      var filePath = data.filePath||\"\";\r\n      // console.log('response.data.noExistsList..', response.data.noExistsList);\r\n      this.uploadTxtCallbackInfo = noExistsList;\r\n      this.mobileUrl = filePath;\r\n    },\r\n    uploadSuccessBlack (response, file, fileList)// 上传黑名单成功后的回调\r\n    {\r\n      // console.log('response..', response);\r\n      var data = response.data||{};\r\n      var noExistsList = data.noExistsList||\"\";\r\n      var filePath = data.filePath||\"\";\r\n      this.uploadBlackTxtCallbackInfo = noExistsList;\r\n      this.blackMobileUrl = filePath;\r\n    },\r\n    uploadError (response, file, fileList)// 上传错误\r\n    {\r\n      console.log('上传失败，请重试！');\r\n    },\r\n    deletephoneNumbers(index){// 删除手机号码\r\n      this.form.phoneNumbersTextArea.splice(index,1);\r\n      this.phoneListData.splice(index,1);\r\n    },\r\n    deleteBlackNumbers(index){// 删除黑名单号码\r\n      this.form.blacklistphoneNumTextArea.splice(index,1);\r\n      this.blackPhoneListData.splice(index,1);\r\n    },\r\n    clearUserPhone()//清空手机号\r\n    {\r\n      this.userPhoneForm.importUserPhone = \"\";\r\n      this.form.phoneNumbersTextArea = [];\r\n      this.phoneListData = [];\r\n    },\r\n    clearBlackPhone()//清空黑名单\r\n    {\r\n      this.blackPhoneForm.sheildUserPhone = \"\";\r\n      this.form.blacklistphoneNumTextArea = [];\r\n      this.blackPhoneListData = [];\r\n    },\r\n    addTaskVerifyPhone ()//添加手机号\r\n    {\r\n      this.$refs[\"formUserPhone\"].validate((valid) => {\r\n        if (valid) {\r\n          var phoneNum = this.userPhoneForm.importUserPhone;\r\n          if(!this.phoneListData.find((num)=>num==phoneNum)){\r\n            this.addTaskVerifyPhoneAction();\r\n          } else {\r\n            this.alertMsg(\"请勿重复添加手机号码\");\r\n          }\r\n        } else {\r\n          console.log(\"phone wrong..\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    addTaskVerifyPhoneAction()//添加手机号接口\r\n    {\r\n      var _this = this;\r\n      var params = new URLSearchParams();\r\n      params.append(\"check_type\",1);\r\n      params.append(\"mobile\",this.userPhoneForm.importUserPhone);\r\n      params.append(\"build_name\",\"\");\r\n      params.append(\"company_name\",\"\");\r\n      axios.post(this.checkLegalUrl,params\r\n      ).then((response)=> {\r\n        // console.log(\"inputVerifyPhoneNumber response...\"+response);\r\n        if(response.data){\r\n          var myGuid = this.guid();\r\n          var phoneNum = this.userPhoneForm.importUserPhone;\r\n          this.form.phoneNumbersTextArea.push({data:phoneNum,guid:myGuid});\r\n          this.phoneListData.push(phoneNum);\r\n          this.userPhoneForm.importUserPhone = '';// 手机号\r\n        } else {\r\n          this.alertMsg(\"手机号不存在\");\r\n        }\r\n      })\r\n      .catch((error)=> {\r\n        console.log(\"inputVerifyPhoneNumber error..\"+error);\r\n      });\r\n    },\r\n    addBlackVerifyPhone()//添加黑名单\r\n    {\r\n      this.$refs[\"formBlackPhone\"].validate((valid) => {\r\n        if (valid) {\r\n          var phoneNum = this.blackPhoneForm.sheildUserPhone;\r\n          if(!this.blackPhoneListData.find((num)=>num==phoneNum)){\r\n            this.addTaskVerifyBlackPhoneAction();\r\n          } else {\r\n            this.alertMsg(\"请勿重复添加手机号码\");\r\n          }\r\n        } else {\r\n          console.log(\"phone wrong..\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    addTaskVerifyBlackPhoneAction()//添加黑名单接口\r\n    {\r\n      var _this = this;\r\n      var params = new URLSearchParams();\r\n      params.append(\"check_type\",1);\r\n      params.append(\"mobile\",this.blackPhoneForm.sheildUserPhone);\r\n      params.append(\"build_name\",\"\");\r\n      params.append(\"company_name\",\"\");\r\n      axios.post(this.checkLegalUrl,params\r\n      ).then((response)=> {\r\n        // console.log(\"inputVerifyPhoneNumber response...\"+response);\r\n        if(response.data){\r\n          var myGuid = this.guid();\r\n          var phoneNum = this.blackPhoneForm.sheildUserPhone;\r\n          this.form.blacklistphoneNumTextArea.push({data:phoneNum,guid:myGuid});\r\n          this.blackPhoneListData.push(phoneNum);\r\n          this.blackPhoneForm.sheildUserPhone = \"\";\r\n        } else {\r\n          this.alertMsg(\"手机号不存在\");\r\n        }\r\n      })\r\n      .catch((error)=> {\r\n        console.log(\"blackPhoneNumber error..\"+error);\r\n      });\r\n    },\r\n    backToList()\r\n    {\r\n      window.setTimeout(function(){\r\n        window.location.href = \"/index.php/coupon-send-task/index\";\r\n      },300);\r\n    },\r\n    alertMsg(msg,type)\r\n    {\r\n      // alert(msg);\r\n      this.scrollMsg();\r\n      let msgType = type?type:\"error\";\r\n      this.$message({\r\n        message: msg,\r\n        duration:3600,\r\n        type: msgType\r\n      });\r\n    },\r\n    scrollMsg()\r\n    {\r\n      if(self!=top){\r\n        let scrollTop = window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50;\r\n        let mycss=document.getElementsByClassName(\"el-message\")[0];\r\n        if(mycss){\r\n          mycss.style.cssText=\"top: \"+scrollTop+\"px;z-index:1000;\";\r\n        }\r\n      }\r\n    },\r\n    guid()//生成guid ,解决排序\r\n    {\r\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n          var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n          return v.toString(16);\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n  input[type=\"file\"] {\r\n    display: none;\r\n  }\r\n  .line-title {\r\n    width: 100%;\r\n    height: 70px;\r\n    line-height: 70px;\r\n    font-size: 22px;\r\n  }\r\n  .el-row {\r\n    margin-bottom: 10px;\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  /* .el-form-item{\r\n      margin-bottom: 25px;\r\n  } */\r\n .div_center {\r\n    text-align: center;\r\n    width:100%;\r\n    margin:0 auto;\r\n    margin-bottom: 20px;\r\n  }\r\n  .phoneNameBox{\r\n    width:100%;\r\n    border:1px solid #b3d8ff;\r\n    min-height: 90px;\r\n    border-radius:5px;\r\n  }\r\n  .phoneNameText{\r\n    padding:0 10px;\r\n    height:35px;\r\n    line-height: 36px;\r\n    margin-bottom: 0px;\r\n  }\r\n  .phoneNameText+.phoneNameText{\r\n    border-top:1px solid #b3d8ff;\r\n  }\r\n  .phoneNameText:nth-child(2n){\r\n     background: #ecf5ff;\r\n  }\r\n  .uploadTxtCallback{\r\n    font-size: 12px;\r\n    line-height: 18px;\r\n    margin-top: 10px;\r\n  }\r\n  .iconButton{\r\n    font-size:24px;\r\n    position: relative;\r\n    top:3px;\r\n    cursor:pointer;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/CouponSendTask.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-body\"},[_c('div',{staticClass:\"line-title\"},[_vm._v(\"发券任务添加\")]),_vm._v(\" \"),_c('el-main',[_c('el-form',{ref:\"form\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.form,\"rules\":_vm.rules,\"size\":\"small\",\"label-width\":\"120px\"}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"发券任务名称\",\"prop\":\"taskName\"}},[_c('el-input',{model:{value:(_vm.form.taskName),callback:function ($$v) {_vm.$set(_vm.form, \"taskName\", $$v)},expression:\"form.taskName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8,\"offset\":4}},[_c('el-form-item',{attrs:{\"label\":\"发送时间\",\"prop\":\"sendTime\"}},[_c('el-date-picker',{attrs:{\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetime\",\"placeholder\":\"选择日期时间\",\"picker-options\":_vm.sendTimePickerOption},model:{value:(_vm.form.sendTime),callback:function ($$v) {_vm.$set(_vm.form, \"sendTime\", $$v)},expression:\"form.sendTime\"}})],1)],1)],1),_vm._v(\" \"),_c('div',[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"优惠券类型\",\"prop\":\"couponType\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.form.couponType),callback:function ($$v) {_vm.$set(_vm.form, \"couponType\", $$v)},expression:\"form.couponType\"}},[_c('el-option',{attrs:{\"label\":\"优惠券\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"优惠券套餐\",\"value\":\"2\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_vm._l((_vm.form.couponGradient),function(item,index){return (_vm.form.couponType==1)?_c('div',{key:index},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"优惠券\",\"prop\":'couponGradient.' +index +'.id',\"rules\":_vm.couponIds,\"id\":\"couponIds\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(item.id),callback:function ($$v) {_vm.$set(item, \"id\", $$v)},expression:\"item.id\"}},_vm._l((_vm.couponGroupIdsOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"数量：\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"value\":\"1\"},model:{value:(item.num),callback:function ($$v) {_vm.$set(item, \"num\", $$v)},expression:\"item.num\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[(index!=0)?_c('i',{staticClass:\"el-icon-remove-outline iconButton\",on:{\"click\":function($event){return _vm.delCouponGradient(index)}}}):_vm._e(),_vm._v(\" \"),(index==0)?_c('i',{staticClass:\"el-icon-circle-plus-outline iconButton\",on:{\"click\":_vm.addCouponGradient}}):_vm._e()])],1)],1):_vm._e()}),_vm._v(\" \"),(_vm.form.couponType==2)?_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"优惠券套餐\",\"prop\":\"couponGroupId\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.form.couponGroupId),callback:function ($$v) {_vm.$set(_vm.form, \"couponGroupId\", $$v)},expression:\"form.couponGroupId\"}},_vm._l((_vm.couponGroupOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"用户筛选任务\",\"prop\":\"userSelectionTask\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.form.userSelectionTask),callback:function ($$v) {_vm.$set(_vm.form, \"userSelectionTask\", $$v)},expression:\"form.userSelectionTask\"}},_vm._l((_vm.userSelectTaskOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":16}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-form',{ref:\"formUserPhone\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.userPhoneForm,\"rules\":_vm.userPhoneRules,\"size\":\"small\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"prop\":\"importUserPhone\",\"label\":\"手机号\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.userPhoneForm.importUserPhone),callback:function ($$v) {_vm.$set(_vm.userPhoneForm, \"importUserPhone\", $$v)},expression:\"userPhoneForm.importUserPhone\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-button',{attrs:{\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.addTaskVerifyPhone}},[_vm._v(\"加入\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.clearUserPhone}},[_vm._v(\"清空\")])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":20,\"offset\":4}},[_c('div',{staticClass:\"phoneNameBox\"},_vm._l((_vm.form.phoneNumbersTextArea),function(item,index){return _c('el-row',{key:item.guid,staticClass:\"phoneNameText\"},[_c('el-col',{attrs:{\"span\":20}},[_c('span',[_vm._v(_vm._s(item.data))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.deletephoneNumbers(index)}}})])],1)}),1)])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6,\"offset\":1}},[_c('el-upload',{attrs:{\"name\":\"uploadPhoneTxt\",\"action\":_vm.uploadActionUrl,\"data\":_vm.uploadData,\"on-error\":_vm.uploadError,\"on-success\":_vm.uploadSuccess,\"on-remove\":_vm.onRemoveTxt,\"before-upload\":_vm.onBeforeUpload,\"accept\":\"text/plain\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.files}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"请上传txt格式文件，手机号码以空格或回车符或逗号\\\",\\\"分隔\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"uploadTxtCallback\"},[_vm._v(_vm._s(_vm.uploadTxtCallbackInfo))])],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":16}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-form',{ref:\"formBlackPhone\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.blackPhoneForm,\"rules\":_vm.blackPhoneRules,\"size\":\"small\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"prop\":\"sheildUserPhone\",\"label\":\"黑名单\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.blackPhoneForm.sheildUserPhone),callback:function ($$v) {_vm.$set(_vm.blackPhoneForm, \"sheildUserPhone\", $$v)},expression:\"blackPhoneForm.sheildUserPhone\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-button',{attrs:{\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.addBlackVerifyPhone}},[_vm._v(\"加入\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.clearBlackPhone}},[_vm._v(\"清空\")])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":20,\"offset\":4}},[_c('div',{staticClass:\"phoneNameBox\"},_vm._l((_vm.form.blacklistphoneNumTextArea),function(item,index){return _c('el-row',{key:item.guid,staticClass:\"phoneNameText\"},[_c('el-col',{attrs:{\"span\":20}},[_c('span',[_vm._v(_vm._s(item.data))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.deleteBlackNumbers(index)}}})])],1)}),1)])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6,\"offset\":1}},[_c('el-upload',{attrs:{\"name\":\"uploadBlackTxt\",\"action\":_vm.uploadActionUrl,\"data\":_vm.uploadBlackData,\"on-error\":_vm.uploadError,\"on-success\":_vm.uploadSuccessBlack,\"before-upload\":_vm.onBeforeUpload,\"on-remove\":_vm.onRemoveBlack,\"accept\":\"text/plain\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.filesBlack}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"请上传txt格式文件，手机号码以空格或回车符或逗号\\\",\\\"分隔\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"uploadTxtCallback\"},[_vm._v(_vm._s(_vm.uploadBlackTxtCallbackInfo))])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"div_center\",attrs:{\"size\":\"medium\"}},[_c('el-button',{on:{\"click\":_vm.backToList}},[_vm._v(\"取消任务\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('form')}}},[_vm._v(\"提交任务\")])],1)],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e79e5d4c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/CouponSendTask.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e79e5d4c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./CouponSendTask.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CouponSendTask.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CouponSendTask.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e79e5d4c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./CouponSendTask.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CouponSendTask.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport CouponSendTask from '@/components/CouponSendTask'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'CouponSendTask',\r\n      component: CouponSendTask\r\n    }\r\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4af60a90\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4af60a90\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4af60a90\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /*text-align: center;*/\n  color: #2c3e50;\n  margin-top: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport router from './router'\n// import Element from 'element-ui'\n// import 'element-ui/lib/theme-chalk/index.css'\nimport App from './App'\n// Vue.use(Element)\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = Vue;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Vue\"\n// module id = lRwf\n// module chunks = 1"],"sourceRoot":""}