webpackJsonp([1],{"3ntp":function(e,t){},D9hl:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("IvJb"),r=o("Axgm"),n=o.n(r),l=(o("dRIH"),o("aiqZ")),a=o.n(l),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=o("vSla")(null,s,!1,function(e){o("RIOW")},null,null).exports,u=o("zO6J"),p=o("3cXf"),d=o.n(p),m=o("aozt"),f=o.n(m),h=[],v=[],_=[],y={data:function(){var e=function(e,t,o){setTimeout(function(){if(""==t)o(new Error("请输入价格"));else{/([1-9]+[0-9]*|0)(\\.[\\d]+)?/.test(t)?t<=0?o(new Error("请输入正数")):/^[0-9]*[1-9][0-9]*$/.test(t)||t.toString().split(".").length>1&&t.toString().split(".")[1].length>2&&o(new Error("请保留两位小数")):o(new Error("请输入数值型"))}o()},200)};return{testVar:"robert man",checkOnlineAll:!1,isIndeterminateOnline:!0,checkAllAll:!1,isIndeterminateAll:!0,checkSelectionAll:!1,isIndeterminateSelection:!0,form:{activityType:"1",freeDelivery:"0",activityName:"",launchTime:[],status:"2",isRefund:"0",notPartCity:[],pointType:["0"],activityDesc:"",selectType:"",itemPattern:[{type:"0",price:""}],productInformationJson:[{num:"",price:"",is_real_prize:"0",is_coupon:"0",couponSelectId:"0",singleCouponID:"",packageCouponID:""}]},activityId:"",editorOption:{placeholder:"请输入内容",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["link"]]}},productIdStr:{online_product:[],all_product:[],selection_product:[]},productTabs:{onlineTabShow:!1,allTabShow:!1,selectionTabShow:!1},productPoint:"",singleCouponOptions:[],packageCouponOptions:[],cityList:[],onlineProductList:[],allProductList:[],selectionProductList:[],bannerPhotoUrl:"",uploadActionUrl:rootCoffeeStieUrl+"activity-api/upload-banner-files.html?key=coffee08&secret=d0bc0edd5ae98b5600f64c4728d5e4ce",submitFormUrl:rootCoffeeStieUrl+"activity-api/combin-package-assoc-save.html?key=coffee08&secret=d0bc0edd5ae98b5600f64c4728d5e4ce",checkFormUrl:rootCoffeeStieUrl+"activity-api/get-activity-name-unique.html?key=coffee08&secret=d0bc0edd5ae98b5600f64c4728d5e4ce",uploadBannerData:{},uploadBannerCallbackInfo:"",filesBanner:[],edit:!1,rules:{activityName:[{required:!0,message:"请输入套餐名称",trigger:"blur"}],activityType:[{required:!0,message:"请选择活动类型",trigger:"change"}],freeDelivery:[{validator:function(e,t,o){setTimeout(function(){""!=t&&"0"!=t&&(/([1-9]+[0-9]*|0)(\\.[\\d]+)?/.test(t)?t<0?o(new Error("请输入正数")):/^[0-9]*[1-9][0-9]*$/.test(t)?t.toString().length>3&&o(new Error("整数位数不能超过三位")):t.toString().split(".").length>1&&(t.toString().split(".")[1].length>2?o(new Error("请保留两位小数")):t.toString().split(".")[0].length>3&&o(new Error("整数位数不能超过三位"))):o(new Error("请输入数值型"))),o()},200)}}],launchTime:[{required:!0,message:"请选择日期",trigger:"change"}],pointType:[{required:!0,message:"请选择点位类型",trigger:"change"}],selectType:[{required:!0,message:"请选择类型",trigger:"change"}]},priceNumRules:[{required:!0,message:"请输入价格",trigger:"blur"},{validator:e}],discountRules:[{required:!0,message:"请输入价格",trigger:"blur"},{validator:function(e,t,o){setTimeout(function(){""==t?o(new Error("请输入价格")):/^\+?[1-9]\d*$/.test(t)?(t<10||t>100)&&o(new Error("请输入10-100间的整数")):o(new Error("请输入大于0整数")),o()},200)}}],priceRules:[{required:!0,message:"请输入价格",trigger:"blur"},{validator:e}]}},computed:{editor:function(){return this.$refs.myQuillEditor.quill}},mounted:function(){this.init()},methods:{init:function(){var e=this;for(var t in window.parent.onscroll=function(t){e.scrollMsg()},rootCityList)this.cityList.push({key:t,name:rootCityList[t]});for(var o in rootSingleCouponList)""!=o&&this.singleCouponOptions.push({value:o,label:rootSingleCouponList[o]});this.singleCouponOptions.sort(function(e,t){return Number(t.value)-Number(e.value)}),rootPackageCouponList.forEach(function(t,o){""!=t.group_id&&e.packageCouponOptions.push({value:t.group_id,label:t.group_name})}),rootPointProductList.online_product.forEach(function(t,o){e.onlineProductList.push({key:t.product_id,name:t.product_name}),h.push(t.product_id)}),rootPointProductList.all_product.forEach(function(t,o){e.allProductList.push({key:t.product_id,name:t.product_name}),v.push(t.product_id)}),rootPointProductList.selection_product.forEach(function(t,o){e.selectionProductList.push({key:t.product_id,name:t.product_name}),_.push(t.product_id)}),"{}"!==d()(rootActivityInfo)&&this.render(),this.setProductList()},render:function(){var e=rootActivityInfo;this.activityId=e.activity_id,this.form.activityType=e.activity_type,this.form.freeDelivery=e.free_delivery_cost,this.form.activityName=e.activity_name,this.form.launchTime=[e.start_time,e.end_time],this.form.status=e.status,this.form.isRefund=e.is_refund,this.form.notPartCity=""==e.not_part_city?[]:e.not_part_city;var t=e.banner_photo_url||"",o=""!=t?t.split("/").pop():"";""!=t&&(this.filesBanner=[{name:o,url:t}]),this.form.productInformationJson=e.product_information_json,this.form.pointType=e.point_type,this.productIdStr.online_product=e.product_id_str.online_product,this.productIdStr.all_product=e.product_id_str.all_product,this.productIdStr.selection_product=e.product_id_str.selection_product,this.form.activityDesc=e.activity_desc,0==e.product_information_json.length&&0!=e.free_single_json.length?(console.log("编辑时类型为自由单品"),this.form.selectType="2",this.form.itemPattern=e.free_single_json,this.form.productInformationJson=[{num:"",price:"",is_real_prize:"0",is_coupon:"0",couponSelectId:"0",singleCouponID:"",packageCouponID:""}]):(console.log("编辑时类型为单品套餐"),this.form.selectType="1",this.form.productInformationJson=e.product_information_json,this.form.itemPattern=[{type:"0",price:""}])},handlePointChange:function(e){this.setProductList()},setProductList:function(){-1==this.form.pointType.indexOf("1")?(this.productTabs.selectionTabShow=!1,this.productIdStr.selection_product=[]):(this.productTabs.selectionTabShow=!0,this.productPoint="3"),-1==this.form.pointType.indexOf("0")?(this.productTabs.onlineTabShow=!1,this.productTabs.allTabShow=!1,this.productIdStr.online_product=[],this.productIdStr.all_product=[]):(this.productTabs.onlineTabShow=!0,this.productTabs.allTabShow=!0,this.productPoint="1")},deleteLadder:function(e){this.form.productInformationJson.length>1&&this.form.productInformationJson.splice(e,1)},addLadder:function(){this.form.productInformationJson.push({num:"",price:"",is_real_prize:"0",is_coupon:"0",couponSelectId:"0",singleCouponID:"",packageCouponID:""})},changeActivityType:function(){"1"==this.form.activityType&&(this.form.freeDelivery="0")},clearText:function(e){this.form.itemPattern[e].price=""},itemdeleteLadder:function(e){this.form.itemPattern.length>1&&this.form.itemPattern.splice(e,1)},itemaddLadder:function(){this.form.itemPattern.push({type:"0",price:""})},handleCheckAllOnline:function(e){this.productIdStr.online_product=e?h:[],this.isIndeterminateOnline=!1},handleCheckedOnlineChange:function(e){var t=e.length;this.checkOnlineAll=t===this.onlineProductList.length,this.isIndeterminateOnline=t>0&&t<this.onlineProductList.length},handleCheckAllAll:function(e){this.productIdStr.all_product=e?v:[],this.isIndeterminateAll=!1},handleCheckedAllChange:function(e){var t=e.length;this.checkAllAll=t===this.allProductList.length,this.isIndeterminateAll=t>0&&t<this.allProductList.length},handleCheckAllSelection:function(e){this.productIdStr.selection_product=e?_:[],this.isIndeterminateSelection=!1},handleCheckedSelectionChange:function(e){var t=e.length;this.checkSelectionAll=t===this.selectionProductList.length,this.isIndeterminateSelection=t>0&&t<this.selectionProductList.length},submitForm:function(e){var t=this;this.$refs[e].validate(function(e,o){if(!e){for(var i in o){t.rules[i][0].message&&(document.getElementById(i).scrollIntoView(),t.alertMsg(t.rules[i][0].message));break}return!1}new Date(t.form.launchTime[1])<new Date(t.form.launchTime[0])?t.alertMsg("结束时间不能早于开始时间"):new Date(t.form.launchTime[1])<new Date(Date.now())?t.alertMsg("结束时间不能早于当前时间"):""==t.form.activityDesc?t.alertMsg("活动介绍内容更不能为空"):t.verifyProductInformationJson()||"1"!=t.form.selectType?0==t.productIdStr.online_product.length&&0==t.productIdStr.all_product.length&&0==t.productIdStr.selection_product.length?t.alertMsg("请选择商品"):t.filesBanner.length<=0?t.alertMsg("请上传banner图片"):t.form.activityName!==rootActivityInfo.activity_name?t.submitBefore():t.submitFormAction():t.alertMsg("请完善自由套餐梯度管理内容")})},alertMsg:function(e,t){var o=t||"error";this.$message({message:e,duration:3600,type:o}),this.scrollMsg()},scrollMsg:function(){if(self!=top){var e=window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50,t=document.getElementsByClassName("el-message")[0];t&&(t.style.cssText="top: "+e+"px;z-index:1000;")}},submitBefore:function(){var e=this;f.a.get(this.checkFormUrl,{params:{activityName:this.form.activityName}}).then(function(t){t.data?e.submitFormAction():e.alertMsg("套餐名称不能重复!")}).catch(function(t){e.alertMsg(t)})},submitFormAction:function(){var e=this,t=this.submitFormUrl;"1"==this.form.selectType?this.form.itemPattern=[]:this.form.productInformationJson=[];var o={activity_id:this.activityId,activity_type:this.form.activityType,free_delivery_cost:this.form.freeDelivery,activity_name:this.form.activityName,start_time:this.form.launchTime[0],end_time:this.form.launchTime[1],status:this.form.status,is_refund:this.form.isRefund,not_part_city:this.form.notPartCity,point_type:this.form.pointType,product_information_json:this.form.productInformationJson,free_single_json:this.form.itemPattern,product_id_str:this.productIdStr,banner_photo_url:this.bannerPhotoUrl,activity_desc:this.form.activityDesc};console.log("传到后台参数",o);f.a.post(t,o,{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"}).then(function(t){t.data?(e.alertMsg("保存成功","success"),setTimeout(function(){window.location.href="/activity-combin-package-assoc/index"},2e3)):(e.alertMsg("保存失败"),e.initTypeData())}).catch(function(t){e.alertMsg(t),e.initTypeData()})},initTypeData:function(){"1"==this.form.selectType?this.form.itemPattern.push({type:"0",price:""}):this.form.productInformationJson.push({num:"",price:"",is_real_prize:"0",is_coupon:"0",couponSelectId:"0",singleCouponID:"",packageCouponID:""})},verifyProductInformationJson:function(){for(var e in this.form.productInformationJson)if(""==this.form.productInformationJson[e].num||""==this.form.productInformationJson[e].price||"1"==this.form.productInformationJson[e].is_coupon&&""==this.form.productInformationJson[e].singleCouponID&&""==this.form.productInformationJson[e].packageCouponID)return!1;return!0},resetForm:function(e){this.$refs[e].resetFields(),this.form.notPartCity=[],this.form.pointType=[],this.filesBanner=[],this.setProductList()},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.alertMsg("请删除当前图片后再上传新的图片","warning")},onBannerRemove:function(e,t){this.bannerPhotoUrl="",this.filesBanner=[]},onBeforeUpload:function(e){console.log(e);var t="image/jpeg"===e.type||"image/gif",o=e.size/1024/1024<.1;for(var i in e);return t||this.alertMsg("上传文件只能是图片格式!"),o||this.alertMsg("上传文件大小不能超过 100k!"),t&&o},uploadBannerSuccess:function(e,t,o){this.$message.success("上传成功！");var i=e.data||{},r=i.noExistsList||"",n=i.filePath||"";this.bannerPhotoUrl=n,this.uploadBannerCallbackInfo=r,this.filesBanner.length=1},uploadError:function(e,t,o){this.alertMsg("上传失败，请重试！")}},components:{}},g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content-body"},[o("div",{staticClass:"line-title"},[e._v("自组合套餐活动")]),e._v(" "),o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12,offset:0}},[o("el-form-item",{attrs:{label:"活动类型：",prop:"activityType",id:"activityType"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeActivityType},model:{value:e.form.activityType,callback:function(t){e.$set(e.form,"activityType",t)},expression:"form.activityType"}},[o("el-option",{attrs:{label:"自取",value:"1"}}),o("el-option",{attrs:{label:"外送",value:"2"}})],1)],1)],1)],1),e._v(" "),2==e.form.activityType?o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:6,offset:0}},[o("el-form-item",{attrs:{label:"免配送金额：",prop:"freeDelivery",id:"freeDelivery"}},[o("el-input",{model:{value:e.form.freeDelivery,callback:function(t){e.$set(e.form,"freeDelivery","string"==typeof t?t.trim():t)},expression:"form.freeDelivery"}})],1)],1),e._v(" "),o("el-col",{staticClass:"money",attrs:{span:1}},[e._v("元")]),e._v(" "),o("el-col",{attrs:{span:10}},[o("p",{staticClass:"tip"},[e._v("用户商品金额大于或等于该数均可免配送费")])])],1):e._e(),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12,offset:0}},[o("el-form-item",{attrs:{label:"套餐名称：",prop:"activityName",id:"activityName"}},[o("el-input",{model:{value:e.form.activityName,callback:function(t){e.$set(e.form,"activityName","string"==typeof t?t.trim():t)},expression:"form.activityName"}})],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"上线时间：",prop:"launchTime",id:"launchTime"}},[o("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",editable:e.edit},model:{value:e.form.launchTime,callback:function(t){e.$set(e.form,"launchTime",t)},expression:"form.launchTime"}})],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"状态：",prop:"status"}},[o("el-radio",{attrs:{label:"2"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("上线")]),e._v(" "),o("el-radio",{attrs:{label:"1"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("下线")])],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"退款：",prop:"isRefund"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.isRefund,callback:function(t){e.$set(e.form,"isRefund",t)},expression:"form.isRefund"}},[e._v("允许")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.isRefund,callback:function(t){e.$set(e.form,"isRefund",t)},expression:"form.isRefund"}},[e._v("拒绝")])],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"不参与机构："}},[o("el-checkbox-group",{model:{value:e.form.notPartCity,callback:function(t){e.$set(e.form,"notPartCity",t)},expression:"form.notPartCity"}},e._l(e.cityList,function(t){return o("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.name))])}))],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"banner图片：",prop:"uploadBannerPhoto",id:"uploadBannerPhoto"}},[o("el-upload",{attrs:{name:"banner_photo_url",action:e.uploadActionUrl,data:e.uploadBannerData,"on-error":e.uploadError,"on-success":e.uploadBannerSuccess,"before-upload":e.onBeforeUpload,"on-remove":e.onBannerRemove,"on-preview":e.handlePreview,accept:"image/jpeg,image/gif,image/png",limit:1,"on-exceed":e.handleExceed,"file-list":e.filesBanner,"list-type":"picture"}},[o("el-button",{attrs:{size:"small",type:"success"}},[e._v("上传图片")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("请上传图片格式文件(100k以内)")])],1),e._v(" "),o("div",{staticClass:"uploadBannerCallback"},[e._v(e._s(e.uploadBannerCallbackInfo))])],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"点位类型：",prop:"pointType",id:"pointType"}},[o("el-checkbox-group",{on:{change:e.handlePointChange},model:{value:e.form.pointType,callback:function(t){e.$set(e.form,"pointType",t)},expression:"form.pointType"}},[o("el-checkbox",{attrs:{label:"0"}},[e._v("普通点位")]),e._v(" "),o("el-checkbox",{attrs:{label:"1"}},[e._v("臻选点位")])],1)],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:20}},[o("el-form-item",{attrs:{label:"选择商品："}},[o("el-tabs",{attrs:{type:"border-card"},model:{value:e.productPoint,callback:function(t){e.productPoint=t},expression:"productPoint"}},[e.productTabs.onlineTabShow?o("el-tab-pane",{attrs:{label:"上线普通单品",name:"1"}},[o("el-checkbox",{attrs:{indeterminate:e.isIndeterminateOnline},on:{change:e.handleCheckAllOnline},model:{value:e.checkOnlineAll,callback:function(t){e.checkOnlineAll=t},expression:"checkOnlineAll"}},[e._v("全选")]),e._v(" "),o("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),o("el-checkbox-group",{on:{change:e.handleCheckedOnlineChange},model:{value:e.productIdStr.online_product,callback:function(t){e.$set(e.productIdStr,"online_product",t)},expression:"productIdStr.online_product"}},e._l(e.onlineProductList,function(t){return o("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.name))])}))],1):e._e(),e._v(" "),e.productTabs.allTabShow?o("el-tab-pane",{attrs:{label:"其他普通单品",name:"2"}},[o("el-checkbox",{attrs:{indeterminate:e.isIndeterminateAll},on:{change:e.handleCheckAllAll},model:{value:e.checkAllAll,callback:function(t){e.checkAllAll=t},expression:"checkAllAll"}},[e._v("全选")]),e._v(" "),o("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),o("el-checkbox-group",{on:{change:e.handleCheckedAllChange},model:{value:e.productIdStr.all_product,callback:function(t){e.$set(e.productIdStr,"all_product",t)},expression:"productIdStr.all_product"}},e._l(e.allProductList,function(t){return o("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.name))])}))],1):e._e(),e._v(" "),e.productTabs.selectionTabShow?o("el-tab-pane",{attrs:{label:"臻选单品",name:"3"}},[o("el-checkbox",{attrs:{indeterminate:e.isIndeterminateSelection},on:{change:e.handleCheckAllSelection},model:{value:e.checkSelectionAll,callback:function(t){e.checkSelectionAll=t},expression:"checkSelectionAll"}},[e._v("全选")]),e._v(" "),o("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),o("el-checkbox-group",{on:{change:e.handleCheckedSelectionChange},model:{value:e.productIdStr.selection_product,callback:function(t){e.$set(e.productIdStr,"selection_product",t)},expression:"productIdStr.selection_product"}},e._l(e.selectionProductList,function(t){return o("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.name))])}))],1):e._e()],1)],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{staticStyle:{width:"120px"},attrs:{span:2}},[o("div",{staticClass:"sub-title"},[e._v("活动介绍：")])]),e._v(" "),o("el-col",{attrs:{span:20}},[o("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},model:{value:e.form.activityDesc,callback:function(t){e.$set(e.form,"activityDesc",t)},expression:"form.activityDesc"}})],1)],1),e._v(" "),o("el-row",{staticStyle:{"margin-top":"20px"}},[o("el-col",{attrs:{span:10}},[o("el-form-item",{attrs:{label:"类型：",prop:"selectType",id:"selectType"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.selectType,callback:function(t){e.$set(e.form,"selectType",t)},expression:"form.selectType"}},[o("el-option",{attrs:{value:"1",label:"自由套餐"}}),e._v(" "),o("el-option",{attrs:{value:"2",label:"自由单品"}})],1)],1)],1)],1),e._v(" "),1==e.form.selectType?o("div",[o("el-row",{attrs:{gutter:10}},[o("el-col",{staticStyle:{width:"120px"},attrs:{span:2}},[o("div",{staticClass:"sub-title"})]),e._v(" "),o("el-col",{attrs:{span:20}},e._l(e.form.productInformationJson,function(t,i){return o("div",{key:i},[o("div",{staticClass:"text",staticStyle:{width:"100%",height:"60px",overflow:"hidden"}},[o("el-col",{attrs:{span:3}},[o("el-form-item",{attrs:{label:"梯度","label-width":"20"}},[e._v("\n                    "+e._s(i+1)+"：\n                    ")])],1),e._v(" "),o("el-col",{staticStyle:{position:"relative",left:"-15px"},attrs:{span:8}},[o("el-form-item",{attrs:{label:"商品数量：","label-width":"30"}},[o("el-input",{staticStyle:{width:"95px"},attrs:{type:"number",size:"small",min:"1"},model:{value:t.num,callback:function(o){e.$set(t,"num",o)},expression:"item.num"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"优惠价格：",prop:"productInformationJson."+i+".price",rules:e.priceRules,id:"priceRules"}},[o("el-input",{staticStyle:{width:"95px"},attrs:{size:"small"},model:{value:t.price,callback:function(o){e.$set(t,"price",o)},expression:"item.price"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:5}},[o("i",{staticClass:"el-icon-circle-plus-outline",on:{click:e.addLadder}}),e._v(" "),0!=i?o("i",{staticClass:"el-icon-remove-outline",on:{click:function(t){e.deleteLadder(i)}}}):e._e()]),e._v(" "),o("div",{staticStyle:{clear:"both"}})],1),e._v(" "),o("div",{staticStyle:{clear:"both"}}),e._v(" "),o("div",{staticClass:"text",staticStyle:{margin:"10px 0 20px 80px"}},[e._v("\n                  是否给与实物奖励\n                  "),o("el-radio",{attrs:{label:"0"},model:{value:t.is_real_prize,callback:function(o){e.$set(t,"is_real_prize",o)},expression:"item.is_real_prize"}},[e._v("否")]),e._v(" "),o("el-radio",{attrs:{label:"1"},model:{value:t.is_real_prize,callback:function(o){e.$set(t,"is_real_prize",o)},expression:"item.is_real_prize"}},[e._v("是")])],1),e._v(" "),o("div",{staticClass:"text",staticStyle:{margin:"10px 0 20px 80px"}},[e._v("\n                  是否给优惠券奖励\n                  "),o("el-radio",{attrs:{label:"0"},model:{value:t.is_coupon,callback:function(o){e.$set(t,"is_coupon",o)},expression:"item.is_coupon"}},[e._v("否")]),e._v(" "),o("el-radio",{attrs:{label:"1"},model:{value:t.is_coupon,callback:function(o){e.$set(t,"is_coupon",o)},expression:"item.is_coupon"}},[e._v("是")]),e._v(" "),o("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.is_coupon,expression:"item.is_coupon==1"}],model:{value:t.couponSelectId,callback:function(o){e.$set(t,"couponSelectId",o)},expression:"item.couponSelectId"}},[o("el-option",{attrs:{label:"优惠券",value:"0"}}),e._v(" "),o("el-option",{attrs:{label:"优惠券套餐",value:"1"}})],1),e._v(" "),o("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.is_coupon&&0==t.couponSelectId,expression:"item.is_coupon==1&&item.couponSelectId==0"}],attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.singleCouponID,callback:function(o){e.$set(t,"singleCouponID",o)},expression:"item.singleCouponID"}},e._l(e.singleCouponOptions,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),o("el-select",{directives:[{name:"show",rawName:"v-show",value:1==t.is_coupon&&1==t.couponSelectId,expression:"item.is_coupon==1&&item.couponSelectId==1"}],attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.packageCouponID,callback:function(o){e.$set(t,"packageCouponID",o)},expression:"item.packageCouponID"}},e._l(e.packageCouponOptions,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])}))],1)],1):e._e(),e._v(" "),2==e.form.selectType?o("div",[o("el-row",{attrs:{gutter:10}},[o("el-col",{staticStyle:{width:"80px"},attrs:{span:2}},[o("div",{staticClass:"sub-title"})]),e._v(" "),o("el-col",{attrs:{span:20}},e._l(e.form.itemPattern,function(t,i){return o("div",{key:i},[o("div",{staticClass:"text"},[o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"商品次序："}},[e._v("第"+e._s(i+1)+"个")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("i",{staticClass:"el-icon-circle-plus-outline",on:{click:e.itemaddLadder}}),e._v(" "),0!=i?o("i",{staticClass:"el-icon-remove-outline",on:{click:function(t){e.itemdeleteLadder(i)}}}):e._e()])],1),e._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:20}},[o("el-form-item",{attrs:{label:"价格模式："}},[o("el-radio",{attrs:{label:"0"},model:{value:t.type,callback:function(o){e.$set(t,"type",o)},expression:"item.type"}},[e._v("原价")]),e._v(" "),o("el-radio",{attrs:{label:"1"},on:{change:function(t){e.clearText(i)}},model:{value:t.type,callback:function(o){e.$set(t,"type",o)},expression:"item.type"}},[e._v("折扣")]),e._v(" "),o("el-radio",{attrs:{label:"2"},on:{change:function(t){e.clearText(i)}},model:{value:t.type,callback:function(o){e.$set(t,"type",o)},expression:"item.type"}},[e._v("固定价格")]),e._v(" "),o("el-radio",{attrs:{label:"3"},on:{change:function(t){e.clearText(i)}},model:{value:t.type,callback:function(o){e.$set(t,"type",o)},expression:"item.type"}},[e._v("固定减价")])],1)],1)],1),e._v(" "),o("el-row",[1==t.type?o("el-col",{staticStyle:{"margin-left":"170px"},attrs:{span:6}},[o("el-form-item",{attrs:{label:"打折比例：",prop:"itemPattern."+i+".price",rules:e.discountRules,id:"discountRules"}},[o("el-input",{attrs:{type:"number",min:"10",max:"100"},model:{value:t.price,callback:function(o){e.$set(t,"price","string"==typeof o?o.trim():o)},expression:"item.price"}})],1)],1):e._e(),e._v(" "),2==t.type?o("el-col",{staticStyle:{"margin-left":"220px"},attrs:{span:6}},[o("el-form-item",{attrs:{label:"价格：",prop:"itemPattern."+i+".price",rules:e.priceNumRules,id:"priceNumRules"}},[o("el-input",{attrs:{min:"0"},model:{value:t.price,callback:function(o){e.$set(t,"price","string"==typeof o?o.trim():o)},expression:"item.price"}})],1)],1):e._e(),e._v(" "),3==t.type?o("el-col",{staticStyle:{"margin-left":"300px"},attrs:{span:6}},[o("el-form-item",{attrs:{label:"减价：",prop:"itemPattern."+i+".price",rules:e.priceNumRules,id:"priceNumRules"}},[o("el-input",{attrs:{min:"0"},model:{value:t.price,callback:function(o){e.$set(t,"price","string"==typeof o?o.trim():o)},expression:"item.price"}})],1)],1):e._e()],1)],1)])}))],1)],1):e._e(),e._v(" "),o("el-form-item",{staticClass:"div-submit",attrs:{size:"medium"}},[o("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var b=o("vSla")(y,g,!1,function(e){o("ezHK")},null,null).exports;i.default.use(u.a);var k=new u.a({routes:[{path:"/",redirect:"/combination"},{path:"/combination",name:"CombinationPackage",component:b}]});o("lMgl"),o("D9hl"),o("3ntp");i.default.use(n.a),i.default.use(a.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:k,components:{App:c},template:"<App/>"})},RIOW:function(e,t){},dRIH:function(e,t){},ezHK:function(e,t){},lMgl:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a9918280e596dd3441b0.js.map