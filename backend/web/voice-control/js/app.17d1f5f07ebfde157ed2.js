webpackJsonp([1],{NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i("MVMM"),n=i("o+a0"),c=i.n(n),a=(i("Y8I5"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var s=i("vSla")(null,a,!1,function(e){i("h5gA")},null,null).exports,o=i("zO6J"),r=i("zsLt"),d=i.n(r),h=i("3cXf"),u=i.n(h),p=i("ZLEe"),m=i.n(p),v=i("HzJ8"),_=i.n(v),f=i("aozt"),k=i.n(f),b={data:function(){return{voiceId:rootData.id,form:{title:"",status:"1",cont:"",sceneList:[{scene_id:""}],launchTime:[],isNeed:"0"},sceneListData:rootData.scene_list,productPoint:"1",onlineProductList:rootData.product_list.online_product,allProductList:rootData.product_list.outline_product,selectionProductList:rootData.product_list.selection_product,isIndeterminateOnline:!0,isIndeterminateAll:!0,isIndeterminateSelection:!0,checkOnlineAll:!1,checkAllAll:!1,checkSelectionAll:!1,isCheck:!0,isActive:!0,cities:rootData.mechanism_list,ChannelTypes:rootData.channel_list,deviceTypes:rootData.equip_type_list,checkCityList:[],checkChannelList:[],checkDevicelList:[],checkBuildList:[],checkAllCity:!1,checkCitiesKey:[],isIndeterminate:!0,checkAllChannel:!1,checkChannelKey:[],isIndeterminateChannel:!0,checkAllDevice:!1,checkDeviceKey:[],isIndeterminateDevice:!0,checkAllBuild:!1,checkBuildKey:[],isIndeterminateBuild:!0,hasSearchBuildList:[],buildingName:"",buildNameListData:[],buildNameList:[],searchText:"",files:[],uploadData:{dataType:"1",oldFilePath:""},buildPath:"",uploadTxtCallbackInfo:"",uploadActionUrl:rootCoffeeStieUrl+"speech-control-api/verify-file.html",productIdStr:{online_product:[],outline_product:[],selection_product:[]},productTabs:{onlineTabShow:!0,allTabShow:!0,selectionTabShow:!0},rules:{title:[{required:!0,message:"请输入语音名称",trigger:"blur"}],launchTime:[{required:!0,message:"请选择上线时间",trigger:"change"}],cont:[{required:!0,message:"请输入语音内容",trigger:"blur"}]},chooseScene:[{required:!0,message:"请选择场景",trigger:"change"}]}},mounted:function(){this.init()},methods:{init:function(){if(rootData.id>0){var e=rootData;this.form.title=e.speech_control_title,this.form.launchTime=[e.start_time,e.end_time],this.form.status=e.status,this.form.cont=e.speech_control_content,this.productIdStr=e.check_product_list,0==this.productIdStr.online_product.length&&0==this.productIdStr.outline_product.length&&0==this.productIdStr.selection_product.length?(console.log("未选择饮品"),this.form.isNeed="1"):(console.log("选择饮品"),this.form.isNeed="0"),this.form.sceneList=e.check_scene_list;for(var t=0;t<e.check_build_list.length;t++)this.buildNameList.push({build_id:e.check_build_list[t].build_id,build_name:e.check_build_list[t].build_name}),this.buildNameListData.push(e.check_build_list[t].build_id);console.log("时间",this.form.launchTime)}},changeNeedProduct:function(){console.log("改变"),this.form.sceneList=[{scene_id:""}],this.productIdStr={online_product:[],outline_product:[],selection_product:[]}},handleCheckAllOnline:function(e){var t=[],i=!0,l=!1,n=void 0;try{for(var c,a=_()(this.onlineProductList);!(i=(c=a.next()).done);i=!0){var s=c.value;t.push(s.product_id)}}catch(e){l=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(l)throw n}}this.productIdStr.online_product=e?t:[],this.isIndeterminateOnline=!1},handleCheckedOnlineChange:function(e){var t=e.length;this.checkOnlineAll=t===this.onlineProductList.length,this.isIndeterminateOnline=t>0&&t<this.onlineProductList.length},handleCheckAllOutline:function(e){var t=[],i=!0,l=!1,n=void 0;try{for(var c,a=_()(this.allProductList);!(i=(c=a.next()).done);i=!0){var s=c.value;t.push(s.product_id)}}catch(e){l=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(l)throw n}}this.productIdStr.outline_product=e?t:[],this.isIndeterminateAll=!1},handleCheckedAllChange:function(e){var t=e.length;this.checkAllAll=t===this.allProductList.length,this.isIndeterminateAll=t>0&&t<this.allProductList.length},handleCheckAllSelection:function(e){var t=[],i=!0,l=!1,n=void 0;try{for(var c,a=_()(this.selectionProductList);!(i=(c=a.next()).done);i=!0){var s=c.value;t.push(s.product_id)}}catch(e){l=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(l)throw n}}this.productIdStr.selection_product=e?t:[],this.isIndeterminateSelection=!1},handleCheckedSelectionChange:function(e){var t=e.length;this.checkSelectionAll=t===this.selectionProductList.length,this.isIndeterminateSelection=t>0&&t<this.selectionProductList.length},addSecne:function(){this.form.sceneList.push({scene_id:""})},delSecne:function(e){console.log(e),this.form.sceneList.splice(e,1)},checkScene:function(){console.log(this.form.sceneList)},handleCheckedCitiesChange:function(e){var t=e.length,i=m()(this.cities).length;this.checkAllCity=t===i,this.isIndeterminate=t>0&&t<this.cities.length},handleCheckAllChange:function(e){this.checkCitiesKey=[];var t=!0,i=!1,l=void 0;try{for(var n,c=_()(this.cities);!(t=(n=c.next()).done);t=!0){var a=n.value;this.checkCitiesKey.push(a.mechanism_id)}}catch(e){i=!0,l=e}finally{try{!t&&c.return&&c.return()}finally{if(i)throw l}}this.checkCityList=e?this.checkCitiesKey:[],this.isIndeterminate=!1},handleCheckedChannelChange:function(e){var t=e.length,i=m()(this.ChannelTypes).length;this.checkAllChannel=t===i,this.isIndeterminateChannel=t>0&&t<this.ChannelTypes.length},handleCheckAllChannelChange:function(e){this.checkChannelKey=[];var t=!0,i=!1,l=void 0;try{for(var n,c=_()(this.ChannelTypes);!(t=(n=c.next()).done);t=!0){var a=n.value;this.checkChannelKey.push(a.channel_id)}}catch(e){i=!0,l=e}finally{try{!t&&c.return&&c.return()}finally{if(i)throw l}}this.checkChannelList=e?this.checkChannelKey:[],this.isIndeterminateChannel=!1},handleCheckedDeviceChange:function(e){var t=e.length,i=m()(this.deviceTypes).length;this.checkAllDevice=t===i,this.isIndeterminateDevice=t>0&&t<this.deviceTypes.length},handleCheckAllDeviceChange:function(e){this.checkDeviceKey=[];var t=!0,i=!1,l=void 0;try{for(var n,c=_()(this.deviceTypes);!(t=(n=c.next()).done);t=!0){var a=n.value;this.checkDeviceKey.push(a.equip_type_id)}}catch(e){i=!0,l=e}finally{try{!t&&c.return&&c.return()}finally{if(i)throw l}}this.checkDevicelList=e?this.checkDeviceKey:[],this.isIndeterminateDevice=!1},handleCheckedBuildChange:function(e){var t=e.length,i=this.hasSearchBuildList.length;this.checkAllBuild=t===i,this.isIndeterminateBuild=t>0&&t<this.hasSearchBuildList.length},handleCheckAllBuildChange:function(e){this.checkBuildKey=[];var t=!0,i=!1,l=void 0;try{for(var n,c=_()(this.hasSearchBuildList);!(t=(n=c.next()).done);t=!0){var a=n.value;this.checkBuildKey.push(a.build_id)}}catch(e){i=!0,l=e}finally{try{!t&&c.return&&c.return()}finally{if(i)throw l}}console.log("checkkey",this.checkBuildKey),this.checkBuildList=e?this.checkBuildKey:[],this.isIndeterminateBuild=!1},searchCitiesChange:function(){var e=this;if(0!=this.checkCityList.length||0!=this.checkChannelList.length||0!=this.checkDevicelList.length){var t={mechanism_list:this.checkCityList,channel_list:this.checkChannelList,equip_type_list:this.checkDevicelList};console.log("筛选楼宇前传递的参数",t),k.a.post("/speech-control/filter-build",t,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}).then(function(t){console.log("筛选后后台传来的数据",t.data),"{}"!=u()(t.data)?(e.isActive=!1,e.hasSearchBuildList=t.data):(e.isActive=!0,e.alertMsg("没有查询到对应楼宇"))}).catch(function(t){e.alertMsg(t)})}else this.alertMsg("请选择筛选条件")},searchCitiesAgain:function(){this.isActive=!0},addSearchBuildList:function(){var e=this;console.log("搜索列表",this.hasSearchBuildList);var t=this.hasSearchBuildList.filter(function(t){return e.checkBuildList.some(function(e){return e==t.build_id})});console.log("格式化选中楼宇列表",t),console.log("默认选中的楼宇",this.checkBuildList);this.buildNameList.length;for(var i=function(i){var l=e.buildNameList.every(function(e){return e.build_id!=t[i].build_id});console.log("是否没有重复",l),l?(e.buildNameList.push({build_name:t[i].build_name,build_id:t[i].build_id}),e.buildNameListData.push(t[i].build_id)):e.alertMsg("请勿重复添加列表")},l=0;l<t.length;l++)i(l);this.checkBuildList=[],this.isIndeterminateBuild=!0},addCityList:function(){var e=this,t={build_name:this.buildingName};k.a.post("/speech-control/check-build",t).then(function(t){if(console.log("后台传来的数据楼宇编号",t.data.build_id),"0"!=t.data.build_id){console.log("楼宇列表",e.buildNameList);var i=e.buildNameList.every(function(e){return e.build_id!=t.data.build_id});console.log("加入列表不重复",i),i?(e.buildNameList.push({build_name:e.buildingName,build_id:t.data.build_id}),e.buildNameListData.push(t.data.build_id),e.buildingName=""):e.alertMsg("请勿重复添加楼宇")}else e.alertMsg("添加楼宇失败")}).catch(function(e){this.alertMsg(e)})},deleteBuildList:function(e){var t=this.buildNameList.findIndex(function(t,i){return t.build_id==e});this.buildNameList.splice(t,1),this.buildNameListData.splice(t,1),console.log(this.buildNameListData)},clearBuildNameList:function(){this.buildNameList=[],this.buildNameListData=[]},resetForm:function(){window.location.href="/speech-control/index"},onBeforeUpload:function(e){var t="text/plain"===e.type,i=e.size/1024/1024<1;return t||this.alertMsg("上传文件类型只能是txt格式!"),i||this.alertMsg("上传文件大小不能超过 1MB!"),t&&i},handleExceed:function(e,t){this.alertMsg("请删除当前文件后再上传新的文件","warning")},onRemoveTxt:function(e,t){console.log("remove txt"),this.buildPath="",this.uploadTxtCallbackInfo=""},uploadSuccess:function(e,t,i){console.log("上传前旧路径",this.uploadData.oldFilePath);var l=e.data||{};console.log(e.data);var n=l.noExistsList||"",c=l.filePath||"";console.log("上传文件返回的路径",c),console.log("上传文件提示语",n),this.buildPath=c,this.uploadTxtCallbackInfo=n,this.uploadData.oldFilePath=c,console.log("oldpath",this.uploadData.oldFilePath)},uploadError:function(e,t,i){this.alertMsg("上传失败，请重试！")},submitForm:function(e){var t=this;console.log("场景",this.form.sceneList),console.log("产品",this.productIdStr),this.$refs[e].validate(function(e,i){if(console.log("导入楼宇提示语",t.uploadTxtCallbackInfo),!e){for(var l in i){t.rules[l][0].message&&(document.getElementById(l).scrollIntoView(),t.alertMsg(t.rules[l][0].message));break}return!1}if(0==t.productIdStr.online_product.length&&0==t.productIdStr.outline_product.length&&0==t.productIdStr.selection_product.length&&0==t.form.isNeed)return t.alertMsg("请选择饮品"),!1;if("0"==t.buildNameListData.length&&""==t.buildPath)return t.alertMsg("请选择楼宇"),!1;if(""!=t.uploadTxtCallbackInfo)return t.alertMsg("导入楼宇格式错误"),!1;var n=[];t.form.sceneList.filter(function(e){n.push(e.scene_id)}),new d.a(n).size!=n.length?t.alertMsg("场景不能重复"):t.submitFormAction()})},alertMsg:function(e,t){var i=t||"error";this.$message({message:e,duration:3600,type:i}),this.scrollMsg()},scrollMsg:function(){if(self!=top){var e=window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50,t=document.getElementsByClassName("el-message")[0];t&&(t.style.cssText="top: "+e+"px;z-index:1000;")}},submitFormAction:function(){var e=this,t={id:this.voiceId,speech_control_title:this.form.title,speech_control_content:this.form.cont,start_time:this.form.launchTime[0],end_time:this.form.launchTime[1],status:this.form.status,scene_list:this.form.sceneList,product_list:this.productIdStr,build_list:this.buildNameListData,build_list_path:this.buildPath};console.log(t);k.a.post("/speech-control/save-speech-control",t,{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"}).then(function(t){console.log("后台返回的数据",t);var i=t.data;console.log(i),"0"==i.code?(e.alertMsg(i.msg,"success"),setTimeout(function(){window.location.href="/speech-control/index"},2e3)):e.alertMsg(i.msg)}).catch(function(t){e.alertMsg(t)})}},computed:{searchData:function(){var e=this.searchText;return e?this.buildNameList.filter(function(t){return String(t.build_name).toLowerCase().indexOf(e)>-1}):this.buildNameList}}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-body"},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:12,offset:0}},[i("el-form-item",{attrs:{label:"语音标题：",prop:"title",id:"title"}},[i("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title","string"==typeof t?t.trim():t)},expression:"form.title"}})],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"上线时间：",prop:"launchTime",id:"launchTime"}},[i("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.launchTime,callback:function(t){e.$set(e.form,"launchTime",t)},expression:"form.launchTime"}})],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"状态：",prop:"status"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("上线")]),e._v(" "),i("el-radio",{attrs:{label:"5"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("下线")])],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:12,offset:0}},[i("el-form-item",{attrs:{label:"语音内容：",prop:"cont",id:"cont"}},[i("el-input",{model:{value:e.form.cont,callback:function(t){e.$set(e.form,"cont","string"==typeof t?t.trim():t)},expression:"form.cont"}})],1)],1),e._v(" "),i("el-col",{staticClass:"tip",attrs:{span:12}},[e._v("提示：语音内容仅支持汉字、数字、逗号和句号。")])],1),e._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"是否选择饮品：",prop:"status"}},[i("el-radio",{attrs:{label:"0"},on:{change:e.changeNeedProduct},model:{value:e.form.isNeed,callback:function(t){e.$set(e.form,"isNeed",t)},expression:"form.isNeed"}},[e._v("是")]),e._v(" "),i("el-radio",{attrs:{label:"1"},on:{change:e.changeNeedProduct},model:{value:e.form.isNeed,callback:function(t){e.$set(e.form,"isNeed",t)},expression:"form.isNeed"}},[e._v("否")])],1)],1)],1),e._v(" "),i("div",[0==e.form.isNeed?i("div",[i("el-row",{attrs:{gutter:10}},e._l(e.form.sceneList,function(t,l){return i("el-col",{key:l,attrs:{span:14}},[0==l?i("el-form-item",{attrs:{label:"请选择场景："}}):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"",prop:"sceneList."+l+".scene_id",rules:e.chooseScene,id:"chooseScene"}},[i("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"进入选择支付方式"},on:{change:e.checkScene},model:{value:t.scene_id,callback:function(i){e.$set(t,"scene_id",i)},expression:"item.scene_id"}},e._l(e.sceneListData,function(t){return 1==t.scene_id||4==t.scene_id||5==t.scene_id?i("el-option",{key:t.scene_id,attrs:{label:t.scene_name,value:t.scene_id}}):e._e()})),e._v(" "),0!=l?i("el-button",{attrs:{plain:"",icon:"el-icon-remove-outline"},on:{click:function(t){e.delSecne(l)}}},[e._v("删除")]):e._e(),e._v(" "),0==l?i("el-button",{attrs:{plain:"",icon:"el-icon-circle-plus-outline"},on:{click:e.addSecne}},[e._v("添加")]):e._e()],1)],1)})),e._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"选择饮品："}},[i("el-tabs",{attrs:{type:"border-card"},model:{value:e.productPoint,callback:function(t){e.productPoint=t},expression:"productPoint"}},[e.productTabs.onlineTabShow?i("el-tab-pane",{attrs:{label:"上线普通",name:"1",value:"1"}},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminateOnline},on:{change:e.handleCheckAllOnline},model:{value:e.checkOnlineAll,callback:function(t){e.checkOnlineAll=t},expression:"checkOnlineAll"}},[e._v("全选")]),e._v(" "),i("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedOnlineChange},model:{value:e.productIdStr.online_product,callback:function(t){e.$set(e.productIdStr,"online_product",t)},expression:"productIdStr.online_product"}},e._l(e.onlineProductList,function(t){return i("el-checkbox",{key:t.product_id,attrs:{label:t.product_id}},[e._v(e._s(t.product_name))])}))],1):e._e(),e._v(" "),e.productTabs.allTabShow?i("el-tab-pane",{attrs:{label:"下线普通",name:"2"}},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminateAll},on:{change:e.handleCheckAllOutline},model:{value:e.checkAllAll,callback:function(t){e.checkAllAll=t},expression:"checkAllAll"}},[e._v("全选")]),e._v(" "),i("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedAllChange},model:{value:e.productIdStr.outline_product,callback:function(t){e.$set(e.productIdStr,"outline_product",t)},expression:"productIdStr.outline_product"}},e._l(e.allProductList,function(t){return i("el-checkbox",{key:t.product_id,attrs:{label:t.product_id}},[e._v(e._s(t.product_name))])}))],1):e._e(),e._v(" "),e.productTabs.selectionTabShow?i("el-tab-pane",{attrs:{label:"臻选单品",name:"3"}},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminateSelection},on:{change:e.handleCheckAllSelection},model:{value:e.checkSelectionAll,callback:function(t){e.checkSelectionAll=t},expression:"checkSelectionAll"}},[e._v("全选")]),e._v(" "),i("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedSelectionChange},model:{value:e.productIdStr.selection_product,callback:function(t){e.$set(e.productIdStr,"selection_product",t)},expression:"productIdStr.selection_product"}},e._l(e.selectionProductList,function(t){return i("el-checkbox",{key:t.product_id,attrs:{label:t.product_id}},[e._v(e._s(t.product_name))])}))],1):e._e()],1)],1)],1)],1)],1):e._e(),e._v(" "),1==e.form.isNeed?i("div",[i("el-row",{attrs:{gutter:10}},e._l(e.form.sceneList,function(t,l){return i("el-col",{key:l,attrs:{span:14}},[0==l?i("el-form-item",{attrs:{label:"请选择场景："}}):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"",prop:"sceneList."+l+".scene_id",rules:e.chooseScene,id:"chooseScene"}},[i("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"进入选择支付方式"},on:{change:e.checkScene},model:{value:t.scene_id,callback:function(i){e.$set(t,"scene_id",i)},expression:"item.scene_id"}},e._l(e.sceneListData,function(t){return 2==t.scene_id||3==t.scene_id?i("el-option",{key:t.scene_id,attrs:{label:t.scene_name,value:t.scene_id}}):e._e()})),e._v(" "),0!=l?i("el-button",{attrs:{plain:"",icon:"el-icon-remove-outline"},on:{click:function(t){e.delSecne(l)}}},[e._v("删除")]):e._e(),e._v(" "),0==l?i("el-button",{attrs:{plain:"",icon:"el-icon-circle-plus-outline"},on:{click:e.addSecne}},[e._v("添加")]):e._e()],1)],1)}))],1):e._e()]),e._v(" "),i("div",{staticClass:"conditionType"},[i("el-row",[i("h4",[e._v("楼宇筛选")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"searchType"},[i("el-row",{attrs:{gutter:10}},[i("el-form-item",{attrs:{label:"选择城市："}},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAllCity,callback:function(t){e.checkAllCity=t},expression:"checkAllCity"}},[e._v("全选")]),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkCityList,callback:function(t){e.checkCityList=t},expression:"checkCityList"}},e._l(e.cities,function(t){return i("el-checkbox",{key:t.mechanism_id,attrs:{label:t.mechanism_id}},[e._v(e._s(t.mechanism_name))])}))],1)],1),e._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-form-item",{attrs:{label:"渠道类型："}},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminateChannel},on:{change:e.handleCheckAllChannelChange},model:{value:e.checkAllChannel,callback:function(t){e.checkAllChannel=t},expression:"checkAllChannel"}},[e._v("全选")]),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedChannelChange},model:{value:e.checkChannelList,callback:function(t){e.checkChannelList=t},expression:"checkChannelList"}},e._l(e.ChannelTypes,function(t){return i("el-checkbox",{key:t.channel_id,attrs:{label:t.channel_id}},[e._v(e._s(t.channel_name))])}))],1)],1),e._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-form-item",{attrs:{label:"设备类型："}},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminateDevice},on:{change:e.handleCheckAllDeviceChange},model:{value:e.checkAllDevice,callback:function(t){e.checkAllDevice=t},expression:"checkAllDevice"}},[e._v("全选")]),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedDeviceChange},model:{value:e.checkDevicelList,callback:function(t){e.checkDevicelList=t},expression:"checkDevicelList"}},e._l(e.deviceTypes,function(t){return i("el-checkbox",{key:t.equip_type_id,attrs:{label:t.equip_type_id}},[e._v(e._s(t.equip_type_name))])}))],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isActive,expression:"!isActive"}],staticClass:"searchList"},[i("el-row",{attrs:{gutter:10}},[i("el-form-item",{attrs:{label:"楼宇列表："}},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminateBuild},on:{change:e.handleCheckAllBuildChange},model:{value:e.checkAllBuild,callback:function(t){e.checkAllBuild=t},expression:"checkAllBuild"}},[e._v("全选")]),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedBuildChange},model:{value:e.checkBuildList,callback:function(t){e.checkBuildList=t},expression:"checkBuildList"}},e._l(e.hasSearchBuildList,function(t){return i("el-checkbox",{key:t.build_id,attrs:{label:t.build_id}},[e._v(e._s(t.build_name))])}))],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"div_center"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchCitiesChange}},[e._v("筛选楼宇列表")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isActive,expression:"!isActive"}],attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchCitiesAgain}},[e._v("继续筛选列表")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isActive,expression:"!isActive"}],attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.addSearchBuildList}},[e._v("加入列表")])],1),e._v(" "),i("div",[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"楼宇名称："}},[i("el-input",{model:{value:e.buildingName,callback:function(t){e.buildingName="string"==typeof t?t.trim():t},expression:"buildingName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:4}},[i("el-button",{staticClass:"btnAdd",attrs:{icon:"el-icon-circle-plus-outline"},on:{click:e.addCityList}},[e._v("添加")])],1)],1),e._v(" "),i("el-row",[i("el-form-item",[i("el-col",{attrs:{span:4}},[i("el-button",{attrs:{plain:"",icon:"el-icon-delete"},on:{click:e.clearBuildNameList}},[e._v("清空")])],1),e._v(" "),i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},model:{value:e.searchText,callback:function(t){e.searchText="string"==typeof t?t.trim():t},expression:"searchText"}})],1),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-upload",{staticClass:"upload-file",attrs:{name:"uploadPhoneTxt",action:e.uploadActionUrl,data:e.uploadData,onError:e.uploadError,"on-remove":e.onRemoveTxt,onSuccess:e.uploadSuccess,"before-upload":e.onBeforeUpload,"on-exceed":e.handleExceed,accept:"text/plain",limit:1,"file-list":e.files}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("导入文件")]),e._v(" "),i("span",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传txt格式文件，且不超过1M")])],1),e._v(" "),i("div",{staticClass:"uploadTxtCallback"},[e._v(e._s(e.uploadTxtCallbackInfo))])],1)],1)],1),e._v(" "),i("div",{staticClass:"buildNameBox"},e._l(e.searchData,function(t){return i("el-row",{key:t.build_id,staticClass:"buildNameText"},[i("el-col",{attrs:{span:20}},[i("span",[e._v(e._s(t.build_name))])]),e._v(" "),i("el-col",{attrs:{span:4}},[i("i",{staticClass:"el-icon-delete",on:{click:function(i){e.deleteBuildList(t.build_id)}}})])],1)}))],1),e._v(" "),i("el-form-item",{staticClass:"div-submit",attrs:{size:"medium"}},[i("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var y=i("vSla")(b,g,!1,function(e){i("jC6m")},null,null).exports;l.default.use(o.a);var C=new o.a({routes:[{path:"/",redirect:"/vc"},{path:"/vc",name:"vc",component:y}]});l.default.use(c.a),l.default.config.productionTip=!1,new l.default({el:"#app",router:C,components:{App:s},template:"<App/>"})},Y8I5:function(e,t){},h5gA:function(e,t){},jC6m:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.17d1f5f07ebfde157ed2.js.map