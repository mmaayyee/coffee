{"version":3,"sources":["webpack:///./src/App.vue?90a4","webpack:///./src/App.vue","webpack:///src/components/page/WeeklyRepurchase.vue","webpack:///./src/components/page/WeeklyRepurchase.vue?2430","webpack:///./src/components/page/WeeklyRepurchase.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","chartsColorArr","chartsColorArr2","WeeklyRepurchase","data","listUrl","getWeeklyRepurchaseUrl","rootCoffeeStieUrl","weeklyRepurchaseData","labelPosition","form","searchDate","searchDatePickerOption","disabledDate","time","getTime","Date","now","exportDate","exportUrl","showDateSearch","filters","formatDate","val","String","substr","computed","mounted","init","methods","_this","rootLogin","window","parent","onscroll","e","scrollMsg","getWeeklyRepurchase","trimPercent","charAt","length","Number","exportExcel","goBack","clearCharts","initCharts","date","_this2","url","_axios_0_18_0_axios_default","a","get","then","response","code","alertMsg","setTimeout","catch","error","totalConversionChart","weeklyConversionChart","totalRepurchaseChart","weeklyRepurchaseChart","initSingleChart","initSingleLineChart","dataName","dateChar","chartId","dataVal","titleName","myChart","echarts","document","getElementById","clear","category","tmpData","i","len","push","option","color","backgroundColor","title","text","textStyle","fontSize","tooltip","legend","xAxis","yAxis","series","name","type","itemStyle","normal","label","show","setOption","dataValTmp","max","reduce","b","barMaxWidth","params","value","Math","index","floor","initDoubleChart","dataVal1","dataVal2","legendName1","legendName2","msg","msgType","$message","message","duration","self","top","scrollTop","documentElement","body","mycss","getElementsByClassName","style","cssText","components","page_WeeklyRepurchase","_vm","staticClass","ref","label-position","model","size","label-width","gutter","staticStyle","width","span","prop","range-separator","start-placeholder","end-placeholder","format","value-format","picker-options","callback","$$v","$set","expression","_e","_v","plain","on","click","href","border","_m","components_page_WeeklyRepurchase","WeeklyRepurchase_normalizeComponent","ssrContext","vue_esm","use","vue_router_esm","router","routes","path","redirect","component","element_ui_common_default","config","productionTip","el","template"],"mappings":"gMAGeA,cADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE5GI,qBCoBFC,EAtBUC,EAAQ,OAajCC,CAXA,KAaEZ,GATF,EAEA,KAEA,KAEA,MAUgC,yCC4BhCa,GAAA,mDACAC,GAAA,6DACAC,GACAC,KADA,WAEA,OACAC,QAAA,GACAC,uBAAAC,kBAAA,gDACAC,wBACAC,cAAA,QACAC,MACAC,WAAA,IAEAC,wBACAC,aADA,SACAC,GACA,OAAAA,EAAAC,UAAAC,KAAAC,QAGAC,WAAA,GACAC,UAAA,yBACAC,eAAA,KAGAC,SACAC,WAAA,SAAAC,GACA,OAAAC,OAAAD,GAAAE,OAAA,QAGAC,YAEAC,QA3BA,WA4BApC,KAAAqC,QAEAC,SACAD,KADA,WACA,IAAAE,EAAAvC,KACAA,KAAA6B,eAAAI,OAAAO,WACAC,OAAAC,OAAAC,SAAA,SAAAC,GACAL,EAAAM,aAEA7C,KAAA8C,uBAEAC,YARA,SAQAf,GAGA,WADAC,OAAAD,GAAAgB,OAAAf,OAAAD,GAAAiB,OAAA,GAEAC,OAAAjB,OAAAD,GAAAE,OAAA,EAAAD,OAAAD,GAAAiB,OAAA,IAEAC,OAAAlB,IAGAZ,WAjBA,WAkBApB,KAAA8C,oBAAA9C,KAAAmB,KAAAC,aAEA+B,YApBA,aAuBAC,OAvBA,aA0BAC,YA1BA,WA2BArD,KAAAiB,wBACAjB,KAAAsD,cAEAR,oBA9BA,SA8BAS,GAAA,IAAAC,EAAAxD,KACAyD,EAAAF,EAAAvD,KAAAe,uBAAA,UAAAwC,EAAA,WAAAA,EAAA,GAAAvD,KAAAe,uBACAf,KAAA2B,WAAA4B,EAAA,SAAAA,EAAA,WAAAA,EAAA,MAEMG,EAAAC,EAANC,IAAAH,GACAI,KAAA,SAAAC,GAEAA,EAAAjD,MAAA,OAAAiD,EAAAjD,KAAAkD,MACA,GAAAD,EAAAjD,UAAAoC,QACAO,EAAAQ,SAAA,gBAEAR,EAAAvC,wBACAwB,OAAAwB,WAAA,WACAT,EAAAvC,qBAAA6C,EAAAjD,UACA2C,EAAAF,cACA,OAEAE,EAAAH,cACAG,EAAAQ,SAAA,iBAGAE,MAAA,SAAAC,GACAX,EAAAH,cACAG,EAAAQ,SAAA,eAGAV,WAxDA,WAyDAtD,KAAAoE,uBACApE,KAAAqE,wBACArE,KAAAsE,uBACAtE,KAAAuE,yBAIAH,qBAhEA,WAiEApE,KAAAwE,gBAAA,qFAGAH,sBApEA,WAqEArE,KAAAwE,gBAAA,uFAGAF,qBAxEA,WAyEAtE,KAAAwE,gBAAA,qFAGAD,sBA5EA,WA6EAvE,KAAAwE,gBAAA,uFAEAC,oBA/EA,SA+EAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,IAAAC,EAAAC,QAAA3C,KAAA4C,SAAAC,eAAAN,IACAG,EAAAI,QAIA,IAHA,IAAAC,KACAvE,KACAwE,EAAArF,KAAA0E,GACAY,EAAA,EAAAC,EAAAF,EAAApC,OAAAqC,EAAAC,EAAAD,IACAF,EAAAI,KAAAH,EAAAC,GAAAX,IACA9D,EAAA2E,KAAAtC,OAAAmC,EAAAC,GAAAT,KAKA,IAAAY,GACAC,MAAAhF,EACAiF,gBAAA,OACAC,OACAC,KAAAf,EACAgB,WAAAC,SAAA,KAEAC,WACAC,QACApF,MAAAiE,IAEAoB,OACArF,KAAAuE,GAEAe,SACAC,SACAC,KAAAvB,EACAwB,KAAA,OACAzF,OACA0F,WACAC,QACAC,OAAAC,MAAA,QAMA3B,EAAA4B,UAAAlB,IAEAjB,gBAzHA,SAyHAE,EAAAC,EAAAC,EAAAC,EAAAC,GACA,IAAAC,EAAAC,QAAA3C,KAAA4C,SAAAC,eAAAN,IACAG,EAAAI,QAIA,IAHA,IAAAC,KACAvE,KACAwE,EAAArF,KAAA0E,GACAY,EAAA,EAAAC,EAAAF,EAAApC,OAAAqC,EAAAC,EAAAD,IAAA,CACAF,EAAAI,KAAAH,EAAAC,GAAAX,IACA,IAAAiC,EAAA5G,KAAA+C,YAAAsC,EAAAC,GAAAT,IACAhE,EAAA2E,KAAAoB,GAEA,IAAAC,EAAAhG,EAAAoC,OAAA,EAAApC,EAAAiG,OAAA,SAAAnD,EAAAoD,GAAA,OAAApD,EAAAoD,EAAApD,EAAAoD,IAAA,EAGAtB,GACAC,MAAA/E,EACAgF,gBAAA,OACAC,OACAC,KAAAf,EACAgB,WAAAC,SAAA,KAEAC,WACAC,QACApF,MAAAiE,IAEAoB,OACArF,KAAAuE,GAEAe,SACAC,SACAC,KAAAvB,EACAwB,KAAA,MACAU,YAAA,GACAnG,OACA0F,WACAC,QACAC,OAAAC,MAAA,GACAhB,MAAA,SAAAuB,GACA,IACAC,EAAAhE,OAAA+D,EAAAC,OACAA,EAAAC,KAAAN,IAAA,EAAAK,GACA,IAAAE,EAAAP,EAAA,EAAAM,KAAAE,MAAA,EAAAH,EAAAL,GAAA,EAEA,OADAlG,EAAAyG,SAQArC,EAAA4B,UAAAlB,IAEA6B,gBA7KA,SA6KA5C,EAAAC,EAAAC,EAAA2C,EAAAC,EAAA1C,EAAA2C,EAAAC,GACA,IAAA3C,EAAAC,QAAA3C,KAAA4C,SAAAC,eAAAN,IACAG,EAAAI,QAIA,IAHA,IAAAC,KACAvE,UACAwE,EAAArF,KAAA0E,GACAY,EAAA,EAAAC,EAAAF,EAAApC,OAAAqC,EAAAC,EAAAD,IACAF,EAAAI,KAAAH,EAAAC,GAAAX,IACA9D,EAAA,GAAA2E,KAAAH,EAAAC,GAAAiC,IACA1G,EAAA,GAAA2E,KAAAH,EAAAC,GAAAkC,IAGA,IAAA/B,GACAC,MAAAhF,EACAiF,gBAAA,OACAC,OACAC,KAAAf,EACAgB,WAAAC,SAAA,KAEAC,WACAC,QACApF,MAAA4G,EAAAC,IAEAxB,OACArF,KAAAuE,GAEAe,SACAC,SACAC,KAAAoB,EACAnB,KAAA,MACAU,YAAA,GACAnG,OAAA,GACA0F,WACAC,QACAC,OAAAC,MAAA,OAKAL,KAAAqB,EACApB,KAAA,MACAU,YAAA,GACAnG,OAAA,GACA0F,WACAC,QACAC,OAAAC,MAAA,QAMA3B,EAAA4B,UAAAlB,IAEAzB,SAlOA,SAkOA2D,EAAArB,GAGAtG,KAAA6C,YACA,IAAA+E,EAAAtB,GAAA,QACAtG,KAAA6H,UACAC,QAAAH,EACAI,SAAA,KACAzB,KAAAsB,KAGA/E,UA7OA,WA+OA,GAAAmF,MAAAC,IAAA,CACA,IAAAC,EAAAzF,OAAAC,OAAAuC,SAAAkD,gBAAAD,WAAAzF,OAAAC,OAAAuC,SAAAmD,KAAAF,UAAA,GACAG,EAAApD,SAAAqD,uBAAA,iBACAD,IACAA,EAAAE,MAAAC,QAAA,QAAAN,EAAA,uBAKAO,eCvUeC,GADE5I,OAFP,WAAgB,IAAA6I,EAAA3I,KAAaD,EAAA4I,EAAA1I,eAA0BC,EAAAyI,EAAAxI,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiB0I,YAAA,iBAA2B,KAAAD,EAAA9G,eAAA3B,EAAA,WAA0C2I,IAAA,OAAAzI,OAAkB0I,iBAAAH,EAAAzH,cAAA6H,MAAAJ,EAAAxH,KAAA6H,KAAA,QAAAC,cAAA,WAA0F/I,EAAA,UAAeE,OAAO8I,OAAA,MAAa,KAAAP,EAAA9G,eAAA3B,EAAA,UAAyCiJ,aAAaC,MAAA,SAAgBhJ,OAAQiJ,KAAA,MAAWnJ,EAAA,gBAAqBE,OAAOqG,MAAA,SAAA6C,KAAA,cAAoCpJ,EAAA,kBAAuBE,OAAOkG,KAAA,YAAAiD,kBAAA,IAAAC,oBAAA,OAAAC,kBAAA,OAAAC,OAAA,aAAAC,eAAA,aAAAC,iBAAAjB,EAAAtH,wBAA2L0H,OAAQ7B,MAAAyB,EAAAxH,KAAA,WAAA0I,SAAA,SAAAC,GAAqDnB,EAAAoB,KAAApB,EAAAxH,KAAA,aAAA2I,IAAsCE,WAAA,sBAA+B,OAAArB,EAAAsB,KAAAtB,EAAAuB,GAAA,UAAAvB,EAAA9G,eAAA3B,EAAA,UAAsEE,OAAOiJ,KAAA,KAAUnJ,EAAA,aAAkBE,OAAOkG,KAAA,UAAA6D,MAAA,IAA4BC,IAAKC,MAAA1B,EAAAvH,cAAwBuH,EAAAuB,GAAA,YAAAvB,EAAAsB,KAAAtB,EAAAuB,GAAA,KAAAhK,EAAA,UAAuDE,OAAOiJ,KAAA,KAAU,KAAAV,EAAA9G,eAAA3B,EAAA,KAAoCE,OAAOkK,KAAA3B,EAAA/G,UAAA+G,EAAAhH,cAAqCzB,EAAA,aAAkBE,OAAOkG,KAAA,UAAA6D,MAAA,MAA6BxB,EAAAuB,GAAA,YAAAvB,EAAAsB,QAAA,OAAAtB,EAAAsB,KAAAtB,EAAAuB,GAAA,KAAAhK,EAAA,YAA4E0I,YAAA,kBAAAxI,OAAqCS,KAAA8H,EAAA1H,qBAAAsJ,OAAA,MAA6CrK,EAAA,mBAAwBE,OAAOkJ,KAAA,OAAA7C,MAAA,QAA4BkC,EAAAuB,GAAA,KAAAhK,EAAA,mBAAoCE,OAAOkJ,KAAA,YAAA7C,MAAA,QAAiCkC,EAAAuB,GAAA,KAAAhK,EAAA,mBAAoCE,OAAOkJ,KAAA,gBAAA7C,MAAA,QAAqCkC,EAAAuB,GAAA,KAAAhK,EAAA,mBAAoCE,OAAOkJ,KAAA,mBAAA7C,MAAA,UAA0CkC,EAAAuB,GAAA,KAAAhK,EAAA,mBAAoCE,OAAOkJ,KAAA,oBAAA7C,MAAA,UAA2CkC,EAAAuB,GAAA,KAAAhK,EAAA,mBAAoCE,OAAOkJ,KAAA,mBAAA7C,MAAA,UAA0CkC,EAAAuB,GAAA,KAAAhK,EAAA,mBAAoCE,OAAOkJ,KAAA,oBAAA7C,MAAA,WAA2C,GAAAkC,EAAAuB,GAAA,KAAAvB,EAAA6B,GAAA,QAEp1DlK,iBADb,WAAiB,IAAaP,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAAA,EAAA,OAA2B0I,YAAA,SAAAxI,OAA4BC,GAAA,qBAAtHL,KAA8IkK,GAAA,KAAAhK,EAAA,OAAwB0I,YAAA,SAAAxI,OAA4BC,GAAA,sBAAlML,KAA2NkK,GAAA,KAAAhK,EAAA,OAAwB0I,YAAA,SAAAxI,OAA4BC,GAAA,qBAA/QL,KAAuSkK,GAAA,KAAAhK,EAAA,OAAwB0I,YAAA,SAAAxI,OAA4BC,GAAA,2BCE/X,IAuBeoK,EAvBUjK,EAAQ,OAcjBkK,CACd9J,EACA8H,GAT6B,EAV/B,SAAAiC,GACEnK,EAAQ,SAaS,KAEU,MAUG,QCtBhCoK,EAAA,QAAIC,IAAIC,EAAA,GAEO,IAAAC,EAAA,IAAID,EAAA,GACjBE,SAEIC,KAAM,IACNC,SAAU,gBAGVD,KAAM,cACN5E,KAAM,mBACN8E,UAAWV,MCTjBG,EAAA,QAAIC,IAAIO,EAAAzH,GAERiH,EAAA,QAAIS,OAAOC,eAAgB,EAG3B,IAAIV,EAAA,SACFW,GAAI,OACJR,SACAtC,YAAc5I,IAAAU,GACdiL,SAAU","file":"weekly-repurchase/js/app.83b57755b3298359494b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-c4c047ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c4c047ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"content-body\">\n    <el-form :label-position=\"labelPosition\" ref=\"form\" :model=\"form\" size=\"small\" label-width=\"120px\" v-if=\"showDateSearch!='0'\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\" style=\"width:500px\" v-if=\"showDateSearch!='1'\">\n          <el-form-item label=\"选择检索日期\" prop=\"sendTime\">\n              <el-date-picker type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\"  end-placeholder=\"结束日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" v-model=\"form.searchDate\" :picker-options=\"searchDatePickerOption\">\n              </el-date-picker>\n            </el-form-item>\n        </el-col>\n        <el-col :span=\"5\" v-if=\"showDateSearch!='1'\">\n          <el-button type=\"primary\" plain @click=\"searchDate\">检索</el-button>\n        </el-col>\n        <el-col :span=\"5\">\n          <a :href=\"exportUrl+exportDate\" v-if=\"showDateSearch!='2'\"><el-button type=\"primary\" plain>导出</el-button></a>\n        </el-col>\n      </el-row>\n    </el-form>\n    <el-table :data=\"weeklyRepurchaseData\" border class=\"el-table-common\">\n      <el-table-column prop=\"year\" label=\"年份\">\n      </el-table-column>\n      <el-table-column prop=\"cycle_str\" label=\"日期\">\n      </el-table-column>\n      <el-table-column prop=\"weekly_number\" label=\"周次\">\n      </el-table-column>\n      <el-table-column prop=\"total_conversion\" label=\"总转化率\">\n      </el-table-column>\n      <el-table-column prop=\"weekly_conversion\" label=\"周转化率\">\n      </el-table-column>\n      <el-table-column prop=\"total_repurchase\" label=\"总复购率\">\n      </el-table-column>\n      <el-table-column prop=\"weekly_repurchase\" label=\"周复购率\">\n      </el-table-column>\n    </el-table>\n    <div>\n      <!-- <div class=\"sub-title\" style=\"margin-bottom:20px;\">周报用户数据图表</div> -->\n      <!-- 总转化率 equip_no_mini -->\n      <div id=\"totalConversion\" class=\"charts\"></div>\n      <!-- 周转化率 weekly_turnover -->\n      <div id=\"weeklyConversion\" class=\"charts\"></div>\n      <!-- 总复购率 new_registered_user-->\n      <div id=\"totalRepurchase\" class=\"charts\"></div>\n      <!-- 周复购率 weekly_cups -->\n      <div id=\"weeklyRepurchase\" class=\"charts\"></div>\n    </div>\n  </div>\n</template>\n<script>\n/* eslint-disable */\nimport axios  from  'axios'\nconst chartsColorArr = ['#328e55', '#d66e49', '#be384b','#a7aa9d', '#354b5e'];\nconst chartsColorArr2 = ['#54c7f1','#3ab2de', '#289eca','#198db8','#0a7da7','#016b93'];\nexport default {\n  data() {\n    return {\n      listUrl:'',\n      getWeeklyRepurchaseUrl: rootCoffeeStieUrl+'weekly-report-api/weekly-repurchase-list.html',\n      weeklyRepurchaseData: [],\n      labelPosition: 'right',\n      form: {\n        searchDate: ''\n      },\n      searchDatePickerOption: {\n        disabledDate(time){\n          return time.getTime() > Date.now();\n        }\n      },\n      exportDate:'',\n      exportUrl:'/weekly-return/export?',\n      showDateSearch: ''\n    }\n  },\n  filters: {\n    formatDate: function(val) {\n      return String(val).substr(0,10);\n    }\n  },\n  computed: {\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    init() {\n      this.showDateSearch = String(rootLogin);\n      window.parent.onscroll = (e)=>{\n        this.scrollMsg();\n      }\n      this.getWeeklyRepurchase();\n    },\n    trimPercent(val) {\n      // console.log(String(val).charAt(String(val).length-1));\n      let lastChar = String(val).charAt(String(val).length-1);\n      if(lastChar==\"%\") {\n        return Number(String(val).substr(0,String(val).length-1));\n      } else {\n        return Number(val);\n      }\n    },\n    searchDate() {\n      this.getWeeklyRepurchase(this.form.searchDate);\n    },\n    exportExcel() {\n      //\n    },\n    goBack() {\n      // window.location.href = this.listUrl;\n    },\n    clearCharts(){\n      this.weeklyRepurchaseData = [];\n      this.initCharts();\n    },\n    getWeeklyRepurchase(date) {\n      const url = date?this.getWeeklyRepurchaseUrl+\"?start=\"+date[0]+\"&end=\"+date[1]:this.getWeeklyRepurchaseUrl;\n      this.exportDate = date?\"start=\"+date[0]+\"&end=\"+date[1]:\"\";\n      // console.log(\"url.....\",url);\n      axios.get(url)\n      .then((response)=> {\n        // console.log(response.data)\n        if(response.data && response.data.code==\"200\"){\n          if(response.data.data.length==0){\n            this.alertMsg(\"没有数据，请选择其他日期\");\n          }\n          this.weeklyRepurchaseData = [];\n          window.setTimeout(()=>{\n            this.weeklyRepurchaseData = response.data.data;\n            this.initCharts();\n          },300);\n        } else {\n          this.clearCharts();\n          this.alertMsg('获取周报营收数据错误');\n        }\n      })\n      .catch((error)=> {\n        this.clearCharts();\n        this.alertMsg('周报营收接口错误');\n      });\n    },\n    initCharts() {\n      this.totalConversionChart();\n      this.weeklyConversionChart();\n      this.totalRepurchaseChart();\n      this.weeklyRepurchaseChart();\n    },\n\n    // 总转化率\n    totalConversionChart() {\n      this.initSingleChart('weeklyRepurchaseData','weekly_number','totalConversion','total_conversion','总转化率');\n    },\n    // 周转化率\n    weeklyConversionChart() {\n      this.initSingleChart('weeklyRepurchaseData','weekly_number','weeklyConversion','weekly_conversion','周转化率');\n    },\n    // 总复购率\n    totalRepurchaseChart() {\n      this.initSingleChart('weeklyRepurchaseData','weekly_number','totalRepurchase','total_repurchase','总复购率');\n    },\n    // 周复购率\n    weeklyRepurchaseChart() {\n      this.initSingleChart('weeklyRepurchaseData','weekly_number','weeklyRepurchase','weekly_repurchase','周复购率');\n    },\n    initSingleLineChart(dataName,dateChar,chartId,dataVal,titleName){\n      const myChart = echarts.init(document.getElementById(chartId));\n      myChart.clear();\n      let category=[];\n      let data=[];\n      const tmpData = this[dataName];\n      for(let i=0,len=tmpData.length;i<len;i++){\n        category.push(tmpData[i][dateChar]);\n        data.push(Number(tmpData[i][dataVal]));\n      }\n      // let max = data.length>0?data.reduce((a,b)=>a>b?a:b):0;\n      // console.log(max)\n      // 指定图表的配置项和数据\n      const option = {\n          color: chartsColorArr,\n          backgroundColor: '#fff',\n          title: {\n              text: titleName,\n              textStyle: {fontSize:16}\n          },\n          tooltip: {},\n          legend: {\n              data:[titleName]\n          },\n          xAxis: {\n              data: category\n          },\n          yAxis: {},\n          series: [{\n              name: titleName,\n              type: 'line',\n              data: data,\n              itemStyle: {\n                normal: {\n                  label : {show: true}\n                }\n              }\n          }]\n      };\n      // 使用刚指定的配置项和数据显示图表。\n      myChart.setOption(option);\n    },\n    initSingleChart(dataName,dateChar,chartId,dataVal,titleName){\n      const myChart = echarts.init(document.getElementById(chartId));\n      myChart.clear();\n      let category=[];\n      let data=[];\n      const tmpData = this[dataName];\n      for(let i=0,len=tmpData.length;i<len;i++){\n        category.push(tmpData[i][dateChar]);\n        let dataValTmp = this.trimPercent(tmpData[i][dataVal]);\n        data.push(dataValTmp);\n      }\n      let max = data.length>0?data.reduce((a,b)=>a>b?a:b):0;\n      // console.log(max)\n      // 指定图表的配置项和数据\n      const option = {\n          color: chartsColorArr2,\n          backgroundColor: '#fff',\n          title: {\n              text: titleName,\n              textStyle: {fontSize:16}\n          },\n          tooltip: {},\n          legend: {\n              data:[titleName]\n          },\n          xAxis: {\n              data: category\n          },\n          yAxis: {},\n          series: [{\n              name: titleName,\n              type: 'bar',\n              barMaxWidth:30,\n              data: data,\n              itemStyle: {\n                normal: {\n                  label : {show: true},\n                  color:function(params) {\n                    let newColor = \"\";\n                    let value = Number(params.value);\n                    value = Math.max(0,value);\n                    let index = max>0?Math.floor(value*5/max):0;\n                    newColor = chartsColorArr2[index];\n                    return newColor;\n                  }\n                }\n              }\n          }]\n      };\n      // 使用刚指定的配置项和数据显示图表。\n      myChart.setOption(option);\n    },\n    initDoubleChart(dataName,dateChar,chartId,dataVal1,dataVal2,titleName,legendName1,legendName2){\n      const myChart = echarts.init(document.getElementById(chartId));\n      myChart.clear();\n      var category=[];\n      var data=[[],[]];\n      const tmpData = this[dataName];\n      for(let i=0,len=tmpData.length;i<len;i++){\n        category.push(tmpData[i][dateChar]);\n        data[0].push(tmpData[i][dataVal1]);\n        data[1].push(tmpData[i][dataVal2]);\n      }\n      // 指定图表的配置项和数据\n      const option = {\n          color: chartsColorArr,\n          backgroundColor: '#fff',\n          title: {\n              text: titleName,\n              textStyle: {fontSize:16}\n          },\n          tooltip: {},\n          legend: {\n              data:[legendName1,legendName2]\n          },\n          xAxis: {\n              data: category\n          },\n          yAxis: {},\n          series: [{\n              name: legendName1,\n              type: 'bar',\n              barMaxWidth:20,\n              data: data[0],\n              itemStyle: {\n                normal: {\n                  label : {show: true}\n                }\n              }\n          },\n          {\n              name: legendName2,\n              type: 'bar',\n              barMaxWidth:20,\n              data: data[1],\n              itemStyle: {\n                normal: {\n                  label : {show: true}\n                }\n              }\n          }]\n      };\n      // 使用刚指定的配置项和数据显示图表。\n      myChart.setOption(option);\n    },\n    alertMsg(msg,type)\n    {\n      // alert(msg);\n      this.scrollMsg();\n      let msgType = type?type:\"error\";\n      this.$message({\n        message: msg,\n        duration:3600,\n        type: msgType\n      });\n    },\n    scrollMsg()\n    {\n      if(self!=top){\n        let scrollTop = window.parent.document.documentElement.scrollTop||window.parent.document.body.scrollTop-50;\n        let mycss=document.getElementsByClassName(\"el-message\")[0];\n        if(mycss){\n          mycss.style.cssText=\"top: \"+scrollTop+\"px;z-index:1000;\";\n        }\n      }\n    },\n  },\n  components: {}\n}\n\n</script>\n<style>\n.el-table .cell,th,td {\n  text-align: center;\n}\n.newregister {\n    background-color: #c8fbca;\n}\n.week {\n  min-width: 60px;\n}\n.day {\n  min-width: 95px;\n}\n.charts {\n  width: 1060px;\n  height: 500px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/WeeklyRepurchase.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-body\"},[(_vm.showDateSearch!='0')?_c('el-form',{ref:\"form\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.form,\"size\":\"small\",\"label-width\":\"120px\"}},[_c('el-row',{attrs:{\"gutter\":10}},[(_vm.showDateSearch!='1')?_c('el-col',{staticStyle:{\"width\":\"500px\"},attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"选择检索日期\",\"prop\":\"sendTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.searchDatePickerOption},model:{value:(_vm.form.searchDate),callback:function ($$v) {_vm.$set(_vm.form, \"searchDate\", $$v)},expression:\"form.searchDate\"}})],1)],1):_vm._e(),_vm._v(\" \"),(_vm.showDateSearch!='1')?_c('el-col',{attrs:{\"span\":5}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.searchDate}},[_vm._v(\"检索\")])],1):_vm._e(),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[(_vm.showDateSearch!='2')?_c('a',{attrs:{\"href\":_vm.exportUrl+_vm.exportDate}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"}},[_vm._v(\"导出\")])],1):_vm._e()])],1)],1):_vm._e(),_vm._v(\" \"),_c('el-table',{staticClass:\"el-table-common\",attrs:{\"data\":_vm.weeklyRepurchaseData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"year\",\"label\":\"年份\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cycle_str\",\"label\":\"日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"weekly_number\",\"label\":\"周次\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"total_conversion\",\"label\":\"总转化率\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"weekly_conversion\",\"label\":\"周转化率\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"total_repurchase\",\"label\":\"总复购率\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"weekly_repurchase\",\"label\":\"周复购率\"}})],1),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"charts\",attrs:{\"id\":\"totalConversion\"}}),_vm._v(\" \"),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"weeklyConversion\"}}),_vm._v(\" \"),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"totalRepurchase\"}}),_vm._v(\" \"),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"weeklyRepurchase\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5f48c452\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/WeeklyRepurchase.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f48c452\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./WeeklyRepurchase.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./WeeklyRepurchase.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./WeeklyRepurchase.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f48c452\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./WeeklyRepurchase.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/WeeklyRepurchase.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport WeeklyRepurchase from '@/components/page/WeeklyRepurchase'\n\nVue.use(Router)\n/* eslint-disable */\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/repurchase'\n    },\n    {\n      path: '/repurchase',\n      name: 'WeeklyRepurchase',\n      component: WeeklyRepurchase\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import './assets/css/main.css'\nimport Vue from 'vue'\nimport Element from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport App from './App'\nimport router from './router'\nVue.use(Element)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}